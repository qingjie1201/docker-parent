{"version":3,"sources":["webpack:///src/views/admin/dataauth/dataauthAdd.vue","webpack:///./src/views/admin/dataauth/dataauthAdd.vue?9163","webpack:///./src/views/admin/dataauth/dataauthAdd.vue"],"names":["dataauthAdd","model","config","baseDialog","baseSelect","MenuSelect","baseDictSelect","_this","this","isEdit","appId","id","dataauth_dataauthAdd","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","bizKey","form-model","formModel","targetURL","on","update:formModel","$event","slot","label","prop","label-width","labelWidth","requestUrl","appURL","appName","placeholder","disabled","value","callback","$$v","$set","expression","menuURL","menuAppName","rules","selectChange","menuId","type","dictType","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/286.9d89eb2890b54365dd80.js","sourcesContent":["<template lang=\"pug\">\n  kalix-dialog.dataauth-add(bizKey=\"dataauth\" ref=\"kalixBizDialog\" v-bind:form-model.sync=\"formModel\" v-bind:targetURL=\"targetURL\")\n    div.el-form(slot=\"dialogFormSlot\")\n      template(v-if=\"isEdit\")\n        el-form-item(label=\"应用名称\" prop=\"appId\" v-bind:label-width=\"labelWidth\")\n          kalix-select(v-model=\"formModel.appId\" v-bind:requestUrl=\"appURL\" label=\"text\" appName=\"applications\" placeholder=\"请选择应用\" disabled)\n        el-form-item(label=\"菜单名称\" prop=\"menuId\" v-bind:label-width=\"labelWidth\")\n          kalix-menu-select(v-model=\"formModel.menuId\" v-bind:requestUrl=\"menuURL\" label=\"text\" v-bind:appName=\"menuAppName\" placeholder=\"请选择菜单\" disabled)\n      template(v-else)\n        el-form-item(label=\"应用名称\" prop=\"appId\" v-bind:rules=\"rules.appId\" v-bind:label-width=\"labelWidth\")\n          kalix-select(v-model=\"formModel.appId\" v-bind:requestUrl=\"appURL\" label=\"text\" appName=\"applications\" placeholder=\"请选择应用\" v-on:selectChange=\"selectChange\")\n        el-form-item(label=\"菜单名称\" prop=\"menuId\" v-bind:rules=\"rules.menuId\" v-bind:label-width=\"labelWidth\")\n          kalix-menu-select(v-model=\"formModel.menuId\" v-bind:requestUrl=\"menuURL\" label=\"text\" v-bind:appName=\"menuAppName\" placeholder=\"请选择菜单\")\n      el-form-item(label=\"数据权限\" prop=\"type\" v-bind:rules=\"rules.type\" v-bind:label-width=\"labelWidth\")\n        kalix-dict-select(v-model=\"formModel.type\" appName=\"admin\" dictType=\"数据权限\")\n      el-form-item(label=\"备注\" prop=\"remark\" v-bind:label-width=\"labelWidth\")\n        el-input(v-model=\"formModel.remark\" type=\"textarea\")\n</template>\n\n<script>\n  import FormModel from './model'\n  import {dataauthURL, appsURL} from '../config.toml'\n  import Dialog from '@/components/custom/baseDialog.vue'\n  import BaseSelect from '@/components/custom/baseSelect'\n  import MenuSelect from '@/components/biz/select/MenuSelect'\n  import BaseDictSelect from '@/components/custom/baseDictSelect'\n\n  export default {\n    data() {\n      return {\n        formModel: Object.assign({}, FormModel),\n        isEdit: false,\n        rules: {\n          appId: [{type: 'string', required: true, message: '请选择应用名称', trigger: 'change'}],\n          menuId: [{type: 'string', required: true, message: '请选择菜单名称', trigger: 'change'}],\n          type: [{type: 'number', required: true, message: '请选择数据权限', trigger: 'change'}]\n        },\n        targetURL: dataauthURL,\n        labelWidth: '140px',\n        appURL: appsURL,\n        menuURL: '',\n        menuAppName: ''\n      }\n    },\n    components: {\n      KalixDialog: Dialog,\n      KalixSelect: BaseSelect,\n      KalixMenuSelect: MenuSelect,\n      KalixDictSelect: BaseDictSelect\n    },\n    mounted() {\n      setTimeout(() => {\n        this.isEdit = this.$refs.kalixBizDialog.$data.isEdit\n        if (this.formModel.appId) {\n          this.menuURL = appsURL + '/' + this.formModel.appId\n          this.menuAppName = this.formModel.appId + '-menus'\n        }\n      }, 20)\n    },\n    methods: {\n      selectChange(item) {\n        this.formModel.menuId = ''\n        if (item.id) {\n          this.menuURL = appsURL + '/' + item.id\n          this.menuAppName = item.id + '-menus'\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/dataauth/dataauthAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('kalix-dialog',{ref:\"kalixBizDialog\",staticClass:\"dataauth-add\",attrs:{\"bizKey\":\"dataauth\",\"form-model\":_vm.formModel,\"targetURL\":_vm.targetURL},on:{\"update:formModel\":function($event){_vm.formModel=$event}}},[_c('div',{staticClass:\"el-form\",attrs:{\"slot\":\"dialogFormSlot\"},slot:\"dialogFormSlot\"},[(_vm.isEdit)?[_c('el-form-item',{attrs:{\"label\":\"应用名称\",\"prop\":\"appId\",\"label-width\":_vm.labelWidth}},[_c('kalix-select',{attrs:{\"requestUrl\":_vm.appURL,\"label\":\"text\",\"appName\":\"applications\",\"placeholder\":\"请选择应用\",\"disabled\":\"disabled\"},model:{value:(_vm.formModel.appId),callback:function ($$v) {_vm.$set(_vm.formModel, \"appId\", $$v)},expression:\"formModel.appId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"菜单名称\",\"prop\":\"menuId\",\"label-width\":_vm.labelWidth}},[_c('kalix-menu-select',{attrs:{\"requestUrl\":_vm.menuURL,\"label\":\"text\",\"appName\":_vm.menuAppName,\"placeholder\":\"请选择菜单\",\"disabled\":\"disabled\"},model:{value:(_vm.formModel.menuId),callback:function ($$v) {_vm.$set(_vm.formModel, \"menuId\", $$v)},expression:\"formModel.menuId\"}})],1)]:[_c('el-form-item',{attrs:{\"label\":\"应用名称\",\"prop\":\"appId\",\"rules\":_vm.rules.appId,\"label-width\":_vm.labelWidth}},[_c('kalix-select',{attrs:{\"requestUrl\":_vm.appURL,\"label\":\"text\",\"appName\":\"applications\",\"placeholder\":\"请选择应用\"},on:{\"selectChange\":_vm.selectChange},model:{value:(_vm.formModel.appId),callback:function ($$v) {_vm.$set(_vm.formModel, \"appId\", $$v)},expression:\"formModel.appId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"菜单名称\",\"prop\":\"menuId\",\"rules\":_vm.rules.menuId,\"label-width\":_vm.labelWidth}},[_c('kalix-menu-select',{attrs:{\"requestUrl\":_vm.menuURL,\"label\":\"text\",\"appName\":_vm.menuAppName,\"placeholder\":\"请选择菜单\"},model:{value:(_vm.formModel.menuId),callback:function ($$v) {_vm.$set(_vm.formModel, \"menuId\", $$v)},expression:\"formModel.menuId\"}})],1)],_c('el-form-item',{attrs:{\"label\":\"数据权限\",\"prop\":\"type\",\"rules\":_vm.rules.type,\"label-width\":_vm.labelWidth}},[_c('kalix-dict-select',{attrs:{\"appName\":\"admin\",\"dictType\":\"数据权限\"},model:{value:(_vm.formModel.type),callback:function ($$v) {_vm.$set(_vm.formModel, \"type\", $$v)},expression:\"formModel.type\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formModel.remark),callback:function ($$v) {_vm.$set(_vm.formModel, \"remark\", $$v)},expression:\"formModel.remark\"}})],1)],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f89b7ae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/dataauth/dataauthAdd.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dataauthAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f89b7ae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dataauthAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/dataauth/dataauthAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}