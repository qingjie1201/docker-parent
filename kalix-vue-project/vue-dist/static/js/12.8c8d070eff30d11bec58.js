webpackJsonp([12],{"/6Qo":function(e,t,n){n("Av7u");!function(){"use strict";var e=n("FOfn").utils,o=function(e,t){return!this instanceof o?new o(e):(this._msg={},"function"==typeof o[e]&&(o[e].prototype.setGroup=this.setGroup,this._msg=new o[e](t)),this._msg)};o.prototype.setGroup=function(e){this.body.group=e},o.read=function(e){this.id=e,this.type="read"},o.read.prototype.set=function(e){this.body={ackId:e.id,to:e.to}},o.delivery=function(e){this.id=e,this.type="delivery"},o.delivery.prototype.set=function(e){this.body={bodyId:e.id,to:e.to}},o.txt=function(e){this.id=e,this.type="txt",this.body={}},o.txt.prototype.set=function(e){this.value=e.msg,this.body={id:this.id,to:e.to,msg:this.value,type:this.type,roomType:e.roomType,ext:e.ext||{},success:e.success,fail:e.fail},!e.roomType&&delete this.body.roomType},o.cmd=function(e){this.id=e,this.type="cmd",this.body={}},o.cmd.prototype.set=function(e){this.value="",this.body={to:e.to,action:e.action,msg:this.value,type:this.type,roomType:e.roomType,ext:e.ext||{},success:e.success},!e.roomType&&delete this.body.roomType},o.location=function(e){this.id=e,this.type="loc",this.body={}},o.location.prototype.set=function(e){this.body={to:e.to,type:this.type,roomType:e.roomType,addr:e.addr,lat:e.lat,lng:e.lng,ext:e.ext||{}}},o.img=function(e){this.id=e,this.type="img",this.body={}},o.img.prototype.set=function(t){t.file=t.file||e.getFileUrl(t.fileInputId),this.value=t.file,this.body={id:this.id,file:this.value,apiUrl:t.apiUrl,to:t.to,type:this.type,ext:t.ext||{},roomType:t.roomType,onFileUploadError:t.onFileUploadError,onFileUploadComplete:t.onFileUploadComplete,success:t.success,fail:t.fail,flashUpload:t.flashUpload,width:t.width,height:t.height,body:t.body,uploadError:t.uploadError,uploadComplete:t.uploadComplete},!t.roomType&&delete this.body.roomType},o.audio=function(e){this.id=e,this.type="audio",this.body={}},o.audio.prototype.set=function(t){t.file=t.file||e.getFileUrl(t.fileInputId),this.value=t.file,this.filename=t.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:t.apiUrl,to:t.to,type:this.type,ext:t.ext||{},length:t.length||0,roomType:t.roomType,file_length:t.file_length,onFileUploadError:t.onFileUploadError,onFileUploadComplete:t.onFileUploadComplete,success:t.success,fail:t.fail,flashUpload:t.flashUpload,body:t.body},!t.roomType&&delete this.body.roomType},o.file=function(e){this.id=e,this.type="file",this.body={}},o.file.prototype.set=function(t){t.file=t.file||e.getFileUrl(t.fileInputId),this.value=t.file,this.filename=t.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:t.apiUrl,to:t.to,type:this.type,ext:t.ext||{},roomType:t.roomType,onFileUploadError:t.onFileUploadError,onFileUploadComplete:t.onFileUploadComplete,success:t.success,fail:t.fail,flashUpload:t.flashUpload,body:t.body},!t.roomType&&delete this.body.roomType},o.video=function(e){},o.video.prototype.set=function(e){};var r=function(e){if(!this instanceof r)return new r(e,conn);this.msg=e};r.prototype.send=function(t){var n=this,o=function(n){n.ext=n.ext||{},n.ext.weichat=n.ext.weichat||{},n.ext.weichat.originType=n.ext.weichat.originType||"webim";var o,r={from:t.context.userId||"",to:n.to,bodies:[n.body],ext:n.ext||{}},i=e.stringify(r);if(o=$msg({type:n.group||"chat",to:n.toJid,id:n.id,xmlns:"jabber:client"}).c("body").t(i),n.roomType&&o.up().c("roomtype",{xmlns:"easemob:x:roomtype",type:"chatroom"}),n.bodyId){o=$msg({from:t.context.jid||"",to:n.toJid,id:n.id,xmlns:"jabber:client"}).c("body").t(n.bodyId);var s={xmlns:"urn:xmpp:receipts",id:n.bodyId};o.up().c("delivery",s)}if(n.ackId){if(t.context.jid.indexOf(n.toJid)>=0)return;o=$msg({from:t.context.jid||"",to:n.toJid,id:n.id,xmlns:"jabber:client"}).c("body").t(n.ackId);var a={xmlns:"urn:xmpp:receipts",id:n.ackId};o.up().c("acked",a)}setTimeout(function(){"undefined"!=typeof _msgHash&&_msgHash[n.id]&&_msgHash[n.id].msg.fail instanceof Function&&_msgHash[n.id].msg.fail(n.id)},6e4),t.sendCommand(o.tree(),n.id)};if(n.msg.file){if(n.msg.body&&n.msg.body.url)return void o(n.msg);var r=n.msg.onFileUploadComplete,i=function(e){if(e.entities[0]["file-metadata"]){var i=e.entities[0]["file-metadata"]["content-length"];n.msg.filetype=e.entities[0]["file-metadata"]["content-type"],i>204800&&(n.msg.thumbnail=!0)}n.msg.body={type:n.msg.type||"file",url:("https:"!=location.protocol&&t.isHttpDNS?t.apiUrl+e.uri.substr(e.uri.indexOf("/",9)):e.uri)+"/"+e.entities[0].uuid,secret:e.entities[0]["share-secret"],filename:n.msg.file.filename||n.msg.filename,size:{width:n.msg.width||0,height:n.msg.height||0},length:n.msg.length||0,file_length:n.msg.ext.file_length||0,filetype:n.msg.filetype},o(n.msg),r instanceof Function&&r(e,n.msg.id)};n.msg.onFileUploadComplete=i,e.uploadFile.call(t,n.msg)}else n.msg.body={type:"chat"===n.msg.type?"txt":n.msg.type,msg:n.msg.msg},"cmd"===n.msg.type?n.msg.body.action=n.msg.action:"loc"===n.msg.type&&(n.msg.body.addr=n.msg.addr,n.msg.body.lat=n.msg.lat,n.msg.body.lng=n.msg.lng),o(n.msg)},t._msg=r,t.message=o}()},"02Hb":function(e,t,n){!function(n,o){e.exports=t=o()}(0,function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},r=o.lib={},i=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var i=0;i<r;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[o+i>>>2]|=s<<24-(o+i)%4*8}else for(i=0;i<r;i+=4)t[o+i>>>2]=n[i>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,o=[],r=function(t){t=t;var n=987654321;return function(){var o=((n=36969*(65535&n)+(n>>16)&4294967295)<<16)+(t=18e3*(65535&t)+(t>>16)&4294967295)&4294967295;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var a=r(4294967296*(n||e.random()));n=987654071*a(),o.push(4294967296*a()|0)}return new s.init(o,t)}}),a=o.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new s.init(n,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,o=n.words,r=n.sigBytes,i=this.blockSize,a=r/(4*i),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,u=e.min(4*c,r);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(o,l);var p=o.splice(0,c);n.sigBytes-=u}return new s.init(p,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(r.Hasher=p.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);return this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return e})},"0Iyz":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})},"0hgu":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("mP1F"))}(0,function(e){return function(){var t=e,n=t.lib.WordArray,o=t.algo,r=o.SHA256,i=o.SHA224=r.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=r._createHelper(i),t.HmacSHA224=r._createHmacHelper(i)}(),e.SHA224})},"0uKv":function(e,t,n){var o=n("zPAC");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("318673b3",o,!0)},"1BlA":function(module,exports,__webpack_require__){function _parsePrivacy(e){var t=[],n=e.getElementsByTagName("item");if(n)for(var o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("value"),s=r.getAttribute("order"),a=r.getAttribute("type");if(i){var c=_parseNameFromJidFn(i);t[c]={type:a,order:s,jid:i,name:c}}}return t}function _parseGroupBlacklist(e){var t={},n=e.getElementsByTagName("item");if(n)for(var o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("jid"),s=r.getAttribute("affiliation"),a=r.getAttribute("nick");if(i){var c=_parseNameFromJidFn(i);t[c]={jid:i,affiliation:s,nick:a,name:c}}}return t}function _setText(e,t){"textContent"in e?e.textContent=t:"text"in e&&(e.text=t)}function logMessage(e){WebIM&&WebIM.config.isDebug&&console.log(WebIM.utils.ts()+"[recv] ",e.data)}var _version="1.4.2",_code=__webpack_require__("R7SP").code,_utils=__webpack_require__("FOfn").utils,_msg=__webpack_require__("/6Qo"),_message=_msg._msg,_msgHash={},Queue=__webpack_require__("qKCg").Queue,CryptoJS=__webpack_require__("Av7u"),_=__webpack_require__("rdLu"),stropheConn=null;window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,window.XDomainRequest,Strophe.Request.prototype._newXHR=function(){var e=_utils.xmlrequest(!0);return e.overrideMimeType&&e.overrideMimeType("text/xml"),e.onreadystatechange=this.func.bind(null,this),e},Strophe.Websocket.prototype._closeSocket=function(){if(this.socket){var e=this;setTimeout(function(){try{e.socket.close()}catch(e){}},0)}else this.socket=null},Strophe.Websocket.prototype._onMessage=function(e){logMessage(e);if((o=e.data).indexOf("<jid>")>0){var t=o.indexOf("<jid>"),n=o.indexOf("</jid>"),o=o.substring(t+5,n);stropheConn.setJid(o)}var r;if(0!==e.data.indexOf("<close ")){if(0===e.data.search("<open ")){if(r=(new DOMParser).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(r))return}else o=this._streamWrap(e.data),r=(new DOMParser).parseFromString(o,"text/xml").documentElement;if(!this._check_streamerror(r,Strophe.Status.ERROR))return this._conn.disconnecting&&"presence"===r.firstChild.nodeName&&"unavailable"===r.firstChild.getAttribute("type")?(this._conn.xmlInput(r),void this._conn.rawInput(Strophe.serialize(r))):void this._conn._dataRecv(r,e.data)}else{var i=(r=(new DOMParser).parseFromString(e.data,"text/xml").documentElement).getAttribute("see-other-uri");i?(this._conn._changeConnectStatus(Strophe.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect()):this._conn._doDisconnect("receive <close> from server")}};var _listenNetwork=function(e,t){window.addEventListener?(window.addEventListener("online",e),window.addEventListener("offline",t)):window.attachEvent&&(document.body?(document.body.attachEvent("ononline",e),document.body.attachEvent("onoffline",t)):window.attachEvent("load",function(){document.body.attachEvent("ononline",e),document.body.attachEvent("onoffline",t)}))},_parseRoom=function(e){var t=[],n=e.getElementsByTagName("item");if(n)for(var o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("jid"),s=i.split("@")[0],a={jid:i,name:r.getAttribute("name"),roomId:s.split("_")[1]};t.push(a)}return t},_parseRoomOccupants=function(e){var t=[],n=e.getElementsByTagName("item");if(n)for(var o=0;o<n.length;o++){var r=n[o],i={jid:r.getAttribute("jid"),name:r.getAttribute("name")};t.push(i)}return t},_parseResponseMessage=function(msginfo){var parseMsgData={errorMsg:!0,data:[]},msgBodies=msginfo.getElementsByTagName("body");if(msgBodies){for(var i=0;i<msgBodies.length;i++){var msgBody=msgBodies[i],childNodes=msgBody.childNodes;if(childNodes&&childNodes.length>0){var childNode=msgBody.childNodes[0];if(childNode.nodeType==Strophe.ElementType.TEXT){var jsondata=childNode.wholeText||childNode.nodeValue;jsondata=jsondata.replace("\n","<br>");try{var data=eval("("+jsondata+")");parseMsgData.errorMsg=!1,parseMsgData.data=[data]}catch(e){}}}}var delayTags=msginfo.getElementsByTagName("delay");if(delayTags&&delayTags.length>0){var delayTag=delayTags[0],delayMsgTime=delayTag.getAttribute("stamp");delayMsgTime&&(parseMsgData.delayTimeStamp=delayMsgTime)}}else{var childrens=msginfo.childNodes;if(childrens&&childrens.length>0){var child=msginfo.childNodes[0];if(child.nodeType==Strophe.ElementType.TEXT)try{var data=eval("("+child.nodeValue+")");parseMsgData.errorMsg=!1,parseMsgData.data=[data]}catch(e){}}}return parseMsgData},_parseNameFromJidFn=function(e,t){t=t||"";var n=e,o=n.indexOf("_");-1!==o&&(n=n.substring(o+1));var r=n.indexOf("@"+t);return-1!==r&&(n=n.substring(0,r)),n},_parseFriend=function(e,t,n){var o=[],r=e.getElementsByTagName("item");if(r)for(var i=0;i<r.length;i++){var s=r[i],a=s.getAttribute("jid");if(a){var c=s.getAttribute("subscription"),u={subscription:c,jid:a},l=s.getAttribute("ask");l&&(u.ask=l);var p=s.getAttribute("name");if(p)u.name=p;else{var d=_parseNameFromJidFn(a);u.name=d}var f=[];Strophe.forEachChild(s,"group",function(e){f.push(Strophe.getText(e))}),u.groups=f,o.push(u),t&&"from"==c&&!l&&t.subscribe({toJid:a,message:"[resp:true]"}),t&&"to"==c&&t.subscribed({toJid:a})}}return o},_login=function(e,t){var n=e.access_token||"";if(""!=n){t.context.accessToken=e.access_token,t.context.accessTokenExpires=e.expires_in,stropheConn=t.isOpening()&&t.context.stropheConn?t.context.stropheConn:(t.isOpened()&&t.context.stropheConn,t.getStrophe());var o=function(e,n){_loginCallback(e,n,t)};t.context.stropheConn=stropheConn,t.route?stropheConn.connect(t.context.jid,"$t$"+n,o,t.wait,t.hold,t.route):stropheConn.connect(t.context.jid,"$t$"+n,o,t.wait,t.hold)}else{_utils.stringify(e);t.onError({type:_code.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,data:e})}},_parseMessageType=function(e){var t=e.getElementsByTagName("received"),n=e.getElementsByTagName("invite"),o=e.getElementsByTagName("delivery"),r=e.getElementsByTagName("acked"),i=e.getElementsByTagName("error"),s="normal";if(t&&t.length>0&&"urn:xmpp:receipts"===t[0].namespaceURI)s="received";else if(n&&n.length>0)s="invite";else if(o&&o.length>0)s="delivery";else if(r&&r.length)s="acked";else if(i&&i.length){var a=i[0].getElementsByTagName("user-muted");a&&a.length&&(s="userMuted")}return s},_handleMessageQueue=function(e){for(var t in _msgHash)_msgHash.hasOwnProperty(t)&&_msgHash[t].send(e)},_loginCallback=function(e,t,n){var o,r;if("conflict"===t&&(o=!0),e==Strophe.Status.CONNFAIL)r={type:_code.WEBIM_CONNCTION_SERVER_CLOSE_ERROR,msg:t,reconnect:!0},o&&(r.conflict=!0),n.onError(r);else if(e==Strophe.Status.ATTACHED||e==Strophe.Status.CONNECTED){n.autoReconnectNumTotal=0,n.intervalId=setInterval(function(){n.handelSendQueue()},200);var i=function(e){var t=e.getElementsByTagName("delivery"),o=e.getElementsByTagName("acked");if(t.length)return n.handleDeliveredMessage(e),!0;if(o.length)return n.handleAckedMessage(e),!0;switch(_parseMessageType(e)){case"received":return n.handleReceivedMessage(e),!0;case"invite":return n.handleInviteMessage(e),!0;case"delivery":return n.handleDeliveredMessage(e),!0;case"acked":return n.handleAckedMessage(e),!0;case"userMuted":return n.handleMutedMessage(e),!0;default:return n.handleMessage(e),!0}},s=function(e){return n.handlePresence(e),!0},a=function(e){return n.handlePing(e),!0},c=function(e){return n.handleIqRoster(e),!0},u=function(e){return n.handleIqPrivacy(e),!0},l=function(e){return n.handleIq(e),!0};n.addHandler(i,null,"message",null,null,null),n.addHandler(s,null,"presence",null,null,null),n.addHandler(a,"urn:xmpp:ping","iq","get",null,null),n.addHandler(c,"jabber:iq:roster","iq","set",null,null),n.addHandler(u,"jabber:iq:privacy","iq","set",null,null),n.addHandler(l,null,"iq",null,null,null),n.registerConfrIQHandler&&n.registerConfrIQHandler(),n.context.status=_code.STATUS_OPENED;var p=[_code.WEBIM_MESSAGE_REC_TEXT,_code.WEBIM_MESSAGE_REC_EMOJI];_utils.isCanDownLoadFile&&(p.push(_code.WEBIM_MESSAGE_REC_PHOTO),p.push(_code.WEBIM_MESSAGE_REC_AUDIO_FILE));var d=[_code.WEBIM_MESSAGE_SED_TEXT];_utils.isCanUploadFile&&(d.push(_code.WEBIM_MESSAGE_REC_PHOTO),d.push(_code.WEBIM_MESSAGE_REC_AUDIO_FILE)),n.notifyVersion(),n.retry&&_handleMessageQueue(n),n.heartBeat(),n.isAutoLogin&&n.setPresence();try{if(n.unSendMsgArr.length>0)for(var f in n.unSendMsgArr){var h=n.unSendMsgArr[f];n.sendCommand(h),delete n.unSendMsgArr[f]}}catch(e){console.error(e.message)}n.offLineSendConnecting=!1,n.logOut=!1,n.onOpened({canReceive:p,canSend:d,accessToken:n.context.accessToken})}else if(e==Strophe.Status.DISCONNECTING)n.isOpened()&&(n.stopHeartBeat(),n.context.status=_code.STATUS_CLOSING,r={type:_code.WEBIM_CONNCTION_SERVER_CLOSE_ERROR,msg:t,reconnect:!0},o&&(r.conflict=!0),n.onError(r));else if(e==Strophe.Status.DISCONNECTED){if(n.isOpened()){if(n.autoReconnectNumTotal<n.autoReconnectNumMax)return void n.reconnect();r={type:_code.WEBIM_CONNCTION_DISCONNECTED},n.onError(r)}n.context.status=_code.STATUS_CLOSED,n.clear(),n.onClosed()}else e==Strophe.Status.AUTHFAIL?(r={type:_code.WEBIM_CONNCTION_AUTH_ERROR},o&&(r.conflict=!0),n.onError(r),n.clear()):e==Strophe.Status.ERROR&&(n.context.status=_code.STATUS_ERROR,r={type:_code.WEBIM_CONNCTION_SERVER_ERROR},o&&(r.conflict=!0),n.onError(r));n.context.status_now=e},_getJid=function(e,t){var n=e.toJid||"";if(""===n){var o=(t.context.appKey||"")+"_"+e.to+"@"+t.domain;e.resource&&(o=o+"/"+e.resource),n=o}return n},_getJidByName=function(e,t){return _getJid({to:e},t)},_validCheck=function(e,t){if(""==(e=e||{}).user)return t.onError({type:_code.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR}),!1;var n=e.user+""||"",o=e.appKey||"",r=o.split("#");if(2!==r.length)return t.onError({type:_code.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;var i=r[0],s=r[1];if(!i)return t.onError({type:_code.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;if(!s)return t.onError({type:_code.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;var a=o+"_"+n.toLowerCase()+"@"+t.domain,c=e.resource||"webim";return t.isMultiLoginSessions&&(c+=n+(new Date).getTime()+Math.floor(1e6*Math.random().toFixed(6))),t.context.jid=a+"/"+c,t.context.userId=n,t.context.appKey=o,t.context.appName=s,t.context.orgName=i,!0},_getXmppUrl=function(e,t){if(/^(ws|http)s?:\/\/?/.test(e))return e;var n={prefix:"http",base:"://"+e,suffix:"/http-bind/"};return t&&_utils.isSupportWss?(n.prefix="wss",n.suffix="/ws/"):t?n.prefix="https":window.WebSocket&&(n.prefix="ws",n.suffix="/ws/"),n.prefix+n.base+n.suffix},connection=function(e){if(!this instanceof connection)return new connection(e);e=e||{};this.isHttpDNS=e.isHttpDNS||!1,this.isMultiLoginSessions=e.isMultiLoginSessions||!1,this.wait=e.wait||30,this.hold=e.hold||1,this.retry=e.retry||!1,this.https=e.https||"https:"===location.protocol,this.url=_getXmppUrl(e.url,this.https),this.route=e.route||null,this.domain=e.domain||"easemob.com",this.inactivity=e.inactivity||30,this.heartBeatWait=e.heartBeatWait||4500,this.maxRetries=e.maxRetries||5,this.isAutoLogin=!1!==e.isAutoLogin,this.pollingTime=e.pollingTime||800,this.stropheConn=!1,this.autoReconnectNumMax=e.autoReconnectNumMax||0,this.autoReconnectNumTotal=0,this.autoReconnectInterval=e.autoReconnectInterval||0,this.context={status:_code.STATUS_INIT},this.sendQueue=new Queue,this.intervalId=null,this.apiUrl=e.apiUrl||"",this.isWindowSDK=e.isWindowSDK||!1,this.encrypt=e.encrypt||{encrypt:{type:"none"}},this.delivery=e.delivery||!1,this.user="",this.orgName="",this.appName="",this.token="",this.unSendMsgArr=[],this.offLineSendConnecting=!1,this.logOut=!1,this.dnsArr=["https://rs.easemob.com","https://rsbak.easemob.com","http://182.92.174.78","http://112.126.66.111"],this.dnsIndex=0,this.dnsTotal=this.dnsArr.length,this.restHosts=null,this.restIndex=0,this.restTotal=0,this.xmppHosts=null,this.xmppIndex=0,this.xmppTotal=0,this.groupOption={}};connection.prototype.testInit=function(e){this.orgName=e.orgName,this.appName=e.appName,this.user=e.user,this.token=e.token},connection.prototype.registerUser=function(e){"https:"!=location.protocol&&this.isHttpDNS?(this.dnsIndex=0,this.getHttpDNS(e,"signup")):this.signup(e)},connection.prototype.handelSendQueue=function(){var e=this.sendQueue.pop();null!==e&&this.sendReceiptsMessage(e)},connection.prototype.listen=function(e){this.onOpened=e.onOpened||_utils.emptyfn,this.onClosed=e.onClosed||_utils.emptyfn,this.onTextMessage=e.onTextMessage||_utils.emptyfn,this.onEmojiMessage=e.onEmojiMessage||_utils.emptyfn,this.onPictureMessage=e.onPictureMessage||_utils.emptyfn,this.onAudioMessage=e.onAudioMessage||_utils.emptyfn,this.onVideoMessage=e.onVideoMessage||_utils.emptyfn,this.onFileMessage=e.onFileMessage||_utils.emptyfn,this.onLocationMessage=e.onLocationMessage||_utils.emptyfn,this.onCmdMessage=e.onCmdMessage||_utils.emptyfn,this.onPresence=e.onPresence||_utils.emptyfn,this.onRoster=e.onRoster||_utils.emptyfn,this.onError=e.onError||_utils.emptyfn,this.onReceivedMessage=e.onReceivedMessage||_utils.emptyfn,this.onInviteMessage=e.onInviteMessage||_utils.emptyfn,this.onDeliverdMessage=e.onDeliveredMessage||_utils.emptyfn,this.onReadMessage=e.onReadMessage||_utils.emptyfn,this.onMutedMessage=e.onMutedMessage||_utils.emptyfn,this.onOffline=e.onOffline||_utils.emptyfn,this.onOnline=e.onOnline||_utils.emptyfn,this.onConfirmPop=e.onConfirmPop||_utils.emptyfn,this.onCreateGroup=e.onCreateGroup||_utils.emptyfn,this.onUpdateMyGroupList=e.onUpdateMyGroupList||_utils.emptyfn,this.onUpdateMyRoster=e.onUpdateMyRoster||_utils.emptyfn,this.onBlacklistUpdate=e.onBlacklistUpdate||_utils.emptyfn,_listenNetwork(this.onOnline,this.onOffline)},connection.prototype.heartBeat=function(e){!0!==e&&(e=!1);var t=this,n=!/^ws|wss/.test(t.url)||/mobile/.test(navigator.userAgent);if(!this.heartBeatID&&(e||n)){var o={toJid:this.domain,type:"normal"};this.heartBeatID=setInterval(function(){_utils.isSupportWss&&t.ping(o)},this.heartBeatWait)}},connection.prototype.stopHeartBeat=function(){"number"==typeof this.heartBeatID&&(this.heartBeatID=clearInterval(this.heartBeatID))},connection.prototype.sendReceiptsMessage=function(e){var t=$msg({from:this.context.jid||"",to:this.domain,id:e.id||""}).c("received",{xmlns:"urn:xmpp:receipts",id:e.id||""});this.sendCommand(t.tree())},connection.prototype.cacheReceiptsMessage=function(e){this.sendQueue.push(e)},connection.prototype.getStrophe=function(){if("https:"!=location.protocol&&this.isHttpDNS){var e="",t=this.xmppHosts[this.xmppIndex],n=_utils.getXmlFirstChild(t,"domain"),o=_utils.getXmlFirstChild(t,"ip");if(o){e=o.textContent;var r=_utils.getXmlFirstChild(t,"port");"80"!=r.textContent&&(e+=":"+r.textContent)}else e=n.textContent;if(""!=e){var i=/(.+\/\/).+(\/.+)/;this.url=this.url.replace(i,"$1"+e+"$2")}}return new Strophe.Connection(this.url,{inactivity:this.inactivity,maxRetries:this.maxRetries,pollingTime:this.pollingTime})},connection.prototype.getHostsByTag=function(e,t){var n=_utils.getXmlFirstChild(e,t);if(!n)return console.log(t+" hosts error"),null;var o=n.getElementsByTagName("hosts");return 0==o.length?(console.log(t+" hosts error2"),null):o[0].getElementsByTagName("host")},connection.prototype.getRestFromHttpDNS=function(e,t){if(this.restIndex>this.restTotal)console.log("rest hosts all tried,quit");else{var n="",o=this.restHosts[this.restIndex],r=_utils.getXmlFirstChild(o,"domain"),i=_utils.getXmlFirstChild(o,"ip");if(i){var s=_utils.getXmlFirstChild(o,"port");n=("https:"===location.protocol?"https:":"http:")+"//"+i.textContent+":"+s.textContent}else n=("https:"===location.protocol?"https:":"http:")+"//"+r.textContent;""!=n&&(this.apiUrl=n,e.apiUrl=n),"login"==t?this.login(e):this.signup(e)}},connection.prototype.getHttpDNS=function(e,t){if(this.restHosts)this.getRestFromHttpDNS(e,t);else{var n=this,o={url:this.dnsArr[this.dnsIndex]+"/easemob/server.xml",dataType:"text",type:"GET",data:{app_key:encodeURIComponent(e.appKey)},success:function(o,r){o=(new DOMParser).parseFromString(o,"text/xml").documentElement;var i=n.getHostsByTag(o,"rest");if(i){n.restHosts=i,n.restTotal=i.length;var s=n.getHostsByTag(o,"xmpp");s?(n.xmppHosts=s,n.xmppTotal=s.length,n.getRestFromHttpDNS(e,t)):console.log("xmpp hosts error3")}else console.log("rest hosts error3")}||_utils.emptyfn,error:function(o,r,i){console.log("getHttpDNS error",o,i),n.dnsIndex++,n.dnsIndex<n.dnsTotal&&n.getHttpDNS(e,t)}||_utils.emptyfn};_utils.ajax(o)}},connection.prototype.signup=function(e){var t=this,n=e.orgName||"",o=e.appName||"",r=e.appKey||"",i=e.success||EMPTYFN,s=e.error||EMPTYFN;if(!n&&!o&&r){var a=r.split("#");2===a.length&&(n=a[0],o=a[1])}if(n||o){var c=e.https||c,u=e.apiUrl+"/"+n+"/"+o+"/users",l={username:e.username,password:e.password,nickname:e.nickname||""},p={url:u,dataType:"json",data:_utils.stringify(l),success:i,error:function(n,o,r){if("https:"!=location.protocol&&t.isHttpDNS&&t.restIndex+1<t.restTotal)return t.restIndex++,void t.getRestFromHttpDNS(e,"signup");t.clear(),s(n)}};_utils.ajax(p)}else s({type:_code.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR})},connection.prototype.open=function(e){var t=e.appKey,n=t.split("#")[0],o=t.split("#")[1];this.orgName=n,this.appName=o,e.accessToken&&(this.token=e.accessToken),e.xmppURL&&(this.url=_getXmppUrl(e.xmppURL,this.https)),"https:"!=location.protocol&&this.isHttpDNS?(this.dnsIndex=0,this.getHttpDNS(e,"login")):this.login(e)},connection.prototype.login=function(e){this.user=e.user;if(_validCheck(e,this)){var t=this;if(!t.isOpened())if(e.accessToken)e.access_token=e.accessToken,t.context.restTokenData=e,_login(e,t);else{var n=e.apiUrl,o=this.context.userId,r=e.pwd||"",i=this.context.appName,s=this.context.orgName;this.context.status=_code.STATUS_DOLOGIN_USERGRID;var a={grant_type:"password",username:o,password:r,timestamp:+new Date},c={url:n+"/"+s+"/"+i+"/token",dataType:"json",data:_utils.stringify(a),success:function(n,o){t.context.status=_code.STATUS_DOLOGIN_IM,t.context.restTokenData=n,e.success&&e.success(n),t.token=n.access_token,_login(n,t)}||_utils.emptyfn,error:function(n,o,r){if(e.error&&e.error(),"https:"!=location.protocol&&t.isHttpDNS&&t.restIndex+1<t.restTotal)return t.restIndex++,void t.getRestFromHttpDNS(e,"login");t.clear(),n.error&&n.error_description?t.onError({type:_code.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,data:n,xhr:o}):t.onError({type:_code.WEBIM_CONNCTION_OPEN_ERROR,data:n,xhr:o})}||_utils.emptyfn};_utils.ajax(c)}}},connection.prototype.attach=function(e){if(_validCheck(e,this)){var t=(e=e||{}).accessToken||"";if(""!=t){var n=e.sid||"";if(""!==n){var o=e.rid||"";if(""!==o){stropheConn=this.getStrophe(),this.context.accessToken=t,this.context.stropheConn=stropheConn,this.context.status=_code.STATUS_DOLOGIN_IM;var r=this,i=this.context.jid,s=this.wait,a=this.hold,c=this.wind||5;stropheConn.attach(i,n,o,function(e,t){_loginCallback(e,t,r)},s,a,c)}else this.onError({type:_code.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR})}else this.onError({type:_code.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR})}else this.onError({type:_code.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}},connection.prototype.close=function(e){this.logOut=!0,this.stopHeartBeat();this.context.status!=_code.STATUS_INIT&&(this.isClosed()||this.isClosing()||(this.context.status=_code.STATUS_CLOSING,this.context.stropheConn.disconnect(e)))},connection.prototype.addHandler=function(e,t,n,o,r,i,s){this.context.stropheConn.addHandler(e,t,n,o,r,i,s)},connection.prototype.notifyVersion=function(e,t){var n=stropheConn.getJid();this.context.jid=n;var o=$iq({from:n||"",to:this.domain,type:"result"}).c("query",{xmlns:"jabber:iq:version"}).c("name").t("easemob").up().c("version").t(_version).up().c("os").t("webim"),r=(e=e||_utils.emptyfn,t||this.onError);this.context.stropheConn.sendIQ(o.tree(),e,function(e){r({type:_code.WEBIM_CONNCTION_NOTIFYVERSION_ERROR,data:e})})},connection.prototype.handlePresence=function(e){if(console.log("Info: ",typeof e),!this.isClosed()){var t=e.getAttribute("from")||"",n=e.getAttribute("to")||"",o=e.getAttribute("type")||"",r=e.getAttribute("presence_type")||"",i=!1,s=!1,a=!1,c=!1,u={from:_parseNameFromJidFn(t),to:_parseNameFromJidFn(n),fromJid:t,toJid:n,type:o,chatroom:!!e.getElementsByTagName("roomtype").length},l=e.getElementsByTagName("show");if(l&&l.length>0){var p=l[0];u.show=Strophe.getText(p)}var d=e.getElementsByTagName("status");if(d&&d.length>0){var f=d[0];u.status=Strophe.getText(f),u.code=f.getAttribute("code")}var h=e.getElementsByTagName("priority");if(h&&h.length>0){var m=h[0];u.priority=Strophe.getText(m)}if((_=e.getElementsByTagName("error"))&&_.length>0){var _=_[0];u.error={code:_.getAttribute("code")}}if((g=e.getElementsByTagName("destroy"))&&g.length>0){var g=g[0];u.destroy=!0;var y=g.getElementsByTagName("reason");y&&y.length>0&&(u.reason=Strophe.getText(y[0]))}var v=e.getElementsByTagName("item");if(v&&v.length>0){var E=v[0],b=E.getAttribute("role"),I=E.getAttribute("jid"),O=E.getAttribute("affiliation");if("none"==b&&I){var N=_parseNameFromJidFn(I),T=E.getElementsByTagName("actor")[0].getAttribute("nick");u.actor=T,u.kicked=N}"moderator"==b&&"201"==u.code&&"owner"===O&&(u.type="createGroupACK",i=!0)}var C=e.getElementsByTagName("x");if(C&&C.length>0){var M=C[0].getElementsByTagName("apply"),x=C[0].getElementsByTagName("accept"),R=C[0].getElementsByTagName("item"),S=C[0].getElementsByTagName("decline"),w=C[0].getElementsByTagName("add_admin"),B=C[0].getElementsByTagName("remove_admin"),A=C[0].getElementsByTagName("add_mute"),k=C[0].getElementsByTagName("remove_mute");if(M&&M.length>0){c=!0,u.toNick=M[0].getAttribute("toNick"),u.type="joinGroupNotifications";F=(F=M[0].getAttribute("to").split("@")[0].split("_"))[F.length-1],u.gid=F}else if(x&&x.length>0)u.type="joinPublicGroupSuccess";else if(R&&R.length>0){O=R[0].getAttribute("affiliation"),b=R[0].getAttribute("role");if("member"==O||"participant"==b){s=!0,u.mid=u.fromJid.split("/"),u.mid=u.mid[u.mid.length-1],u.type="memberJoinPublicGroupSuccess";var j=e.getElementsByTagName("roomtype");if(j&&j.length>0){"chatroom"==(o=j[0].getAttribute("type"))&&(u.type="memberJoinChatRoomSuccess")}}}else if(S&&S.length){a=!0;var F=S[0].getAttribute("fromNick"),U=_parseNameFromJidFn(S[0].getAttribute("from"));u.type="joinPublicGroupDeclined",u.owner=U,u.gid=F}else if(w&&w.length>0){F=_parseNameFromJidFn(w[0].getAttribute("mucjid")),U=_parseNameFromJidFn(w[0].getAttribute("from"));u.owner=U,u.gid=F,u.type="addAdmin"}else if(B&&B.length>0){F=_parseNameFromJidFn(B[0].getAttribute("mucjid")),U=_parseNameFromJidFn(B[0].getAttribute("from"));u.owner=U,u.gid=F,u.type="removeAdmin"}else if(A&&A.length>0){F=_parseNameFromJidFn(A[0].getAttribute("mucjid")),U=_parseNameFromJidFn(A[0].getAttribute("from"));u.owner=U,u.gid=F,u.type="addMute"}else if(k&&k.length>0){F=_parseNameFromJidFn(k[0].getAttribute("mucjid")),U=_parseNameFromJidFn(k[0].getAttribute("from"));u.owner=U,u.gid=F,u.type="removeMute"}}if(u.chatroom){u.presence_type=r,u.original_type=u.type;t.slice(t.lastIndexOf("/")+1)===this.context.userId&&(""!==u.type||u.code?"unavailable"!==r&&"unavailable"!==u.type||(u.status?110==u.code?u.type="leaveChatRoom":u.error&&406==u.error.code&&(u.type="reachChatRoomCapacity"):u.type="leaveChatRoom"):u.type="joinChatRoomSuccess")}else if(u.presence_type=r,u.original_type=o,/subscribe/.test(u.type));else if(""!=o||u.status||u.error||i||c||s||a){if("unavailable"===r||"unavailable"===o)if(u.destroy)u.type="deleteGroupChat";else if(307==u.code||321==u.code){var D=e.getAttribute("nick");u.type=D?"removedFromGroup":"leaveGroup"}}else console.log(2222222,e,u,c);this.onPresence(u,e)}},connection.prototype.handlePing=function(e){if(!this.isClosed()){var t=e.getAttribute("id"),n=e.getAttribute("from"),o=e.getAttribute("to"),r=$iq({from:o,to:n,id:t,type:"result"});this.sendCommand(r.tree())}},connection.prototype.handleIq=function(e){return!0},connection.prototype.handleIqPrivacy=function(e){0!=e.getElementsByTagName("list").length&&this.getBlacklist()},connection.prototype.handleIqRoster=function(e){var t=e.getAttribute("id"),n=e.getAttribute("from")||"",o=(_parseNameFromJidFn(n),this.context.jid),r=(this.context.userId,$iq({type:"result",id:t,from:o}));this.sendCommand(r.tree());var i=e.getElementsByTagName("query");if(i&&i.length>0){var s=i[0],a=_parseFriend(s,this,n);this.onRoster(a)}return!0},connection.prototype.handleMessage=function(e){if(!this.isClosed()){var t=e.getAttribute("id")||"";this.cacheReceiptsMessage({id:t});var n=_parseResponseMessage(e);if(n.errorMsg)this.handlePresence(e);else{var o=e.getElementsByTagName("error"),r="",i="",s=!1;if(o.length>0){s=!0,r=o[0].getAttribute("code");var a=o[0].getElementsByTagName("text");i=a[0].textContent||a[0].text}var c=n.data;for(var u in c)if(c.hasOwnProperty(u)){if((M=c[u]).from&&M.to){var l=(M.from+"").toLowerCase(),p=(M.to+"").toLowerCase(),d=M.ext||{},f="",h=e.getElementsByTagName("roomtype");f=h.length?h[0].getAttribute("type")||"chat":e.getAttribute("type")||"chat";var m=M.bodies;if(m&&0!=m.length){var _=M.bodies[0],g=_.type;try{switch(g){case"txt":var y=_.msg;if("base64"===this.encrypt.type)y=atob(y);else if("aes"===this.encrypt.type){var v=CryptoJS.enc.Utf8.parse(this.encrypt.key),E=CryptoJS.enc.Utf8.parse(this.encrypt.iv),b=this.encrypt.mode.toLowerCase(),I={};"cbc"===b?I={iv:E,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}:"ebc"===b&&(I={mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});var O=y;y=CryptoJS.AES.decrypt(O,v,I).toString(CryptoJS.enc.Utf8)}var N=_utils.parseTextMessage(y,WebIM.Emoji);if(N.isemoji){!(M={id:t,type:f,from:l,to:p,delay:n.delayTimeStamp,data:N.body,ext:d}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onEmojiMessage(M)}else{!(M={id:t,type:f,from:l,to:p,delay:n.delayTimeStamp,data:y,ext:d}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onTextMessage(M)}break;case"img":var T=0,C=0;_.size&&(T=_.size.width,C=_.size.height);!(M={id:t,type:f,from:l,to:p,url:"https:"!=location.protocol&&this.isHttpDNS?this.apiUrl+_.url.substr(_.url.indexOf("/",9)):_.url,secret:_.secret,filename:_.filename,thumb:_.thumb,thumb_secret:_.thumb_secret,file_length:_.file_length||"",width:T,height:C,filetype:_.filetype||"",accessToken:this.context.accessToken||"",ext:d,delay:n.delayTimeStamp}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onPictureMessage(M);break;case"audio":!(M={id:t,type:f,from:l,to:p,url:"https:"!=location.protocol&&this.isHttpDNS?this.apiUrl+_.url.substr(_.url.indexOf("/",9)):_.url,secret:_.secret,filename:_.filename,length:_.length||"",file_length:_.file_length||"",filetype:_.filetype||"",accessToken:this.context.accessToken||"",ext:d,delay:n.delayTimeStamp}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onAudioMessage(M);break;case"file":!(M={id:t,type:f,from:l,to:p,url:"https:"!=location.protocol&&this.isHttpDNS?this.apiUrl+_.url.substr(_.url.indexOf("/",9)):_.url,secret:_.secret,filename:_.filename,file_length:_.file_length,accessToken:this.context.accessToken||"",ext:d,delay:n.delayTimeStamp}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onFileMessage(M);break;case"loc":!(M={id:t,type:f,from:l,to:p,addr:_.addr,lat:_.lat,lng:_.lng,ext:d,delay:n.delayTimeStamp}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onLocationMessage(M);break;case"video":!(M={id:t,type:f,from:l,to:p,url:"https:"!=location.protocol&&this.isHttpDNS?this.apiUrl+_.url.substr(_.url.indexOf("/",9)):_.url,secret:_.secret,filename:_.filename,file_length:_.file_length,accessToken:this.context.accessToken||"",ext:d,delay:n.delayTimeStamp}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onVideoMessage(M);break;case"cmd":var M;!(M={id:t,from:l,to:p,action:_.action,ext:d,delay:n.delayTimeStamp}).delay&&delete M.delay,M.error=s,M.errorText=i,M.errorCode=r,this.onCmdMessage(M)}if(this.delivery){var x=this.getUniqueId(),R=M.id,S=new WebIM.message("delivery",x);S.set({id:R,to:M.from}),this.send(S.body)}}catch(e){this.onError({type:_code.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}}}}}}},connection.prototype.handleDeliveredMessage=function(e){var t=e.id,n=e.getElementsByTagName("body"),o={mid:isNaN(n[0].innerHTML)?n[1].innerHTML:n[0].innerHTML};this.onDeliverdMessage(o),this.sendReceiptsMessage({id:t})},connection.prototype.handleAckedMessage=function(e){var t=e.id,n=e.getElementsByTagName("body"),o={mid:isNaN(n[0].innerHTML)?n[1].innerHTML:n[0].innerHTML};this.onReadMessage(o),this.sendReceiptsMessage({id:t})},connection.prototype.handleReceivedMessage=function(e){try{var t={mid:o=e.getElementsByTagName("received")[0].getAttribute("mid"),id:n=e.getElementsByTagName("body")[0].innerHTML};this.onReceivedMessage(t)}catch(e){this.onError({type:_code.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}var n,o,r=e.getElementsByTagName("received");if(r.length>0&&(n=r[0].childNodes&&r[0].childNodes.length>0?r[0].childNodes[0].nodeValue:r[0].innerHTML||r[0].innerText,o=r[0].getAttribute("mid")),_msgHash[n]){try{_msgHash[n].msg.success instanceof Function&&_msgHash[n].msg.success(n,o)}catch(e){this.onError({type:_code.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}delete _msgHash[n]}},connection.prototype.handleInviteMessage=function(e){var t=null,n=e.getElementsByTagName("invite"),o=e.getElementsByTagName("reason")[0].textContent,r=e.getAttribute("id")||"";if(this.sendReceiptsMessage({id:r}),n&&n.length>0){var i=n[0].getAttribute("from");t=_parseNameFromJidFn(i)}var s=e.getElementsByTagName("x"),a=null;if(s&&s.length>0)for(var c=0;c<s.length;c++)if("jabber:x:conference"===s[c].namespaceURI){var u=s[c].getAttribute("jid");a=_parseNameFromJidFn(u)}this.onInviteMessage({type:"invite",from:t,roomid:a,reason:o})},connection.prototype.handleMutedMessage=function(e){var t=e.id;this.onMutedMessage({mid:t})},connection.prototype.sendCommand=function(e,t){this.isOpened()?this.context.stropheConn.send(e):(this.unSendMsgArr.push(e),this.offLineSendConnecting||this.logOut||(this.offLineSendConnecting=!0,this.reconnect()),this.onError({type:_code.WEBIM_CONNCTION_DISCONNECTED,reconnect:!0}))},connection.prototype.getUniqueId=function(e){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var t=new Date,n=new Date(2010,1,1),o=t.getTime()-n.getTime(),r=parseFloat(o).toString(16)+this.autoIncrement;return"string"==typeof e||"number"==typeof e?e+"_"+r:"WEBIM_"+r},connection.prototype.send=function(e){var t=this,n=e;if("txt"===n.type)if("base64"===this.encrypt.type)(n=_.clone(e)).msg=btoa(n.msg);else if("aes"===this.encrypt.type){n=_.clone(e);var o=CryptoJS.enc.Utf8.parse(this.encrypt.key),r=CryptoJS.enc.Utf8.parse(this.encrypt.iv),i=this.encrypt.mode.toLowerCase(),s={};"cbc"===i?s={iv:r,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}:"ebc"===i&&(s={mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});var a=CryptoJS.AES.encrypt(n.msg,o,s);n.msg=a.toString()}if(this.isWindowSDK)WebIM.doQuery('{"type":"sendMessage","to":"'+n.to+'","message_type":"'+n.type+'","msg":"'+encodeURI(n.msg)+'","chatType":"'+n.chatType+'"}',function(e){},function(e,n){var o={data:{data:"send"},type:_code.WEBIM_MESSAGE_SED_ERROR};t.onError(o)});else if("[object Object]"===Object.prototype.toString.call(n)){var c=this.context.appKey||"",u=c+"_"+n.to+"@"+this.domain;n.group&&(u=c+"_"+n.to+"@conference."+this.domain),n.resource&&(u=u+"/"+n.resource),n.toJid=u,n.id=n.id||this.getUniqueId(),_msgHash[n.id]=new _message(n),_msgHash[n.id].send(this)}else"string"==typeof n&&_msgHash[n]&&_msgHash[n].send(this)},connection.prototype.addRoster=function(e){var t=_getJid(e,this),n=e.name||"",o=e.groups||"",r=$iq({type:"set"});if(r.c("query",{xmlns:"jabber:iq:roster"}),r.c("item",{jid:t,name:n}),o)for(var i=0;i<o.length;i++)r.c("group").t(o[i]).up();var s=e.success||_utils.emptyfn,a=e.error||_utils.emptyfn;this.context.stropheConn.sendIQ(r.tree(),s,a)},connection.prototype.removeRoster=function(e){var t=_getJid(e,this),n=$iq({type:"set"}).c("query",{xmlns:"jabber:iq:roster"}).c("item",{jid:t,subscription:"remove"}),o=e.success||_utils.emptyfn,r=e.error||_utils.emptyfn;this.context.stropheConn.sendIQ(n,o,r)},connection.prototype.getRoster=function(e){var t=$iq({type:"get"}).c("query",{xmlns:"jabber:iq:roster"}),n=(e=e||{}).success||this.onRoster,o=function(e){var t=[],o=e.getElementsByTagName("query");if(o&&o.length>0){var r=o[0];t=_parseFriend(r)}n(t,e)},r=e.error||this.onError,i=function(e){r({type:_code.WEBIM_CONNCTION_GETROSTER_ERROR,data:e})};this.isOpened()?this.context.stropheConn.sendIQ(t.tree(),o,i):r({type:_code.WEBIM_CONNCTION_DISCONNECTED})},connection.prototype.subscribe=function(e){var t=_getJid(e,this),n=$pres({to:t,type:"subscribe"});e.message&&n.c("status").t(e.message).up(),e.nick&&n.c("nick",{xmlns:"http://jabber.org/protocol/nick"}).t(e.nick),this.sendCommand(n.tree())},connection.prototype.subscribed=function(e){var t=_getJid(e,this),n=$pres({to:t,type:"subscribed"});e.message&&n.c("status").t(e.message).up(),this.sendCommand(n.tree())},connection.prototype.unsubscribe=function(e){var t=_getJid(e,this),n=$pres({to:t,type:"unsubscribe"});e.message&&n.c("status").t(e.message),this.sendCommand(n.tree())},connection.prototype.unsubscribed=function(e){var t=_getJid(e,this),n=$pres({to:t,type:"unsubscribed"});e.message&&n.c("status").t(e.message).up(),this.sendCommand(n.tree())},connection.prototype.joinPublicGroup=function(e){var t=this.context.appKey+"_"+e.roomId+"@conference."+this.domain+"/"+this.context.userId,n=e.success||_utils.emptyfn,o=e.error||_utils.emptyfn,r=$pres({from:this.context.jid,to:t}).c("x",{xmlns:Strophe.NS.MUC});this.context.stropheConn.sendIQ(r.tree(),n,function(e){o({type:_code.WEBIM_CONNCTION_JOINROOM_ERROR,data:e})})},connection.prototype.listRooms=function(e){var t=$iq({to:e.server||"conference."+this.domain,from:this.context.jid,type:"get"}).c("query",{xmlns:Strophe.NS.DISCO_ITEMS}),n=e.success||_utils.emptyfn,o=e.error||this.onError,r=e.error||_utils.emptyfn;this.context.stropheConn.sendIQ(t.tree(),function(e){var t=[];t=_parseRoom(e);try{n(t)}catch(e){o({type:_code.WEBIM_CONNCTION_GETROOM_ERROR,data:e})}},function(e){r({type:_code.WEBIM_CONNCTION_GETROOM_ERROR,data:e})})},connection.prototype.queryRoomMember=function(e){this.domain;var t=[],n=$iq({to:this.context.appKey+"_"+e.roomId+"@conference."+this.domain,type:"get"}).c("query",{xmlns:Strophe.NS.MUC+"#admin"}).c("item",{affiliation:"member"}),o=e.success||_utils.emptyfn,r=e.error||_utils.emptyfn;this.context.stropheConn.sendIQ(n.tree(),function(e){var n=e.getElementsByTagName("item");if(n)for(var r=0;r<n.length;r++){var i={jid:n[r].getAttribute("jid"),affiliation:"member"};t.push(i)}o(t)},function(e){r({type:_code.WEBIM_CONNCTION_GETROOMMEMBER_ERROR,data:e})})},connection.prototype.queryRoomInfo=function(e){var t=this.domain,n=$iq({to:this.context.appKey+"_"+e.roomId+"@conference."+t,type:"get"}).c("query",{xmlns:Strophe.NS.DISCO_INFO}),o=e.success||_utils.emptyfn,r=[],i=e.error||_utils.emptyfn;this.context.stropheConn.sendIQ(n.tree(),function(e){var n="",i=e.getElementsByTagName("feature");switch(i&&(n=i[1].getAttribute("var")+"|"+i[3].getAttribute("var")+"|"+i[4].getAttribute("var")),n){case"muc_public|muc_membersonly|muc_notallowinvites":n="PUBLIC_JOIN_APPROVAL";break;case"muc_public|muc_open|muc_notallowinvites":n="PUBLIC_JOIN_OPEN";break;case"muc_hidden|muc_membersonly|muc_allowinvites":n="PRIVATE_MEMBER_INVITE";break;case"muc_hidden|muc_membersonly|muc_notallowinvites":n="PRIVATE_OWNER_INVITE"}var s=e.getElementsByTagName("field"),a={};if(s){for(var c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("var"),p=l.split("_")[1];switch(l){case"muc#roominfo_occupants":case"muc#roominfo_maxusers":case"muc#roominfo_affiliations":case"muc#roominfo_description":a[p]=u.textContent||u.text||"";break;case"muc#roominfo_owner":var d={jid:(u.textContent||u.text)+"@"+t,affiliation:"owner"};r.push(d),a[p]=u.textContent||u.text}}a.name=e.getElementsByTagName("identity")[0].getAttribute("name")}o(n,r,a)},function(e){i({type:_code.WEBIM_CONNCTION_GETROOMINFO_ERROR,data:e})})},connection.prototype.queryRoomOccupants=function(e){var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o={xmlns:Strophe.NS.DISCO_ITEMS},r=$iq({from:this.context.jid,to:this.context.appKey+"_"+e.roomId+"@conference."+this.domain,type:"get"}).c("query",o);this.context.stropheConn.sendIQ(r.tree(),function(e){var n=[];n=_parseRoomOccupants(e),t(n)},function(e){n({type:_code.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR,data:e})})},connection.prototype.setUserSig=function(e){var t=$pres({xmlns:"jabber:client"});e=e||"",t.c("status").t(e),this.sendCommand(t.tree())},connection.prototype.setPresence=function(e,t){var n=$pres({xmlns:"jabber:client"});e&&(t?(n.c("show").t(e),n.up().c("status").t(t)):n.c("show").t(e)),this.sendCommand(n.tree())},connection.prototype.getPresence=function(){var e=$pres({xmlns:"jabber:client"});this.sendCommand(e.tree())},connection.prototype.ping=function(e){var t=_getJid(e=e||{},this),n=$iq({from:this.context.jid||"",to:t,type:"get"}).c("ping",{xmlns:"urn:xmpp:ping"}),o=e.success||_utils.emptyfn,r=e.error||this.onError,i=function(e){r({type:_code.WEBIM_CONNCTION_PING_ERROR,data:e})};this.isOpened()?this.context.stropheConn.sendIQ(n.tree(),o,i):r({type:_code.WEBIM_CONNCTION_DISCONNECTED})},connection.prototype.isOpened=function(){return this.context.status==_code.STATUS_OPENED},connection.prototype.isOpening=function(){var e=this.context.status;return e==_code.STATUS_DOLOGIN_USERGRID||e==_code.STATUS_DOLOGIN_IM},connection.prototype.isClosing=function(){return this.context.status==_code.STATUS_CLOSING},connection.prototype.isClosed=function(){return this.context.status==_code.STATUS_CLOSED},connection.prototype.clear=function(){var e=this.context.appKey;if(this.errorType!=_code.WEBIM_CONNCTION_DISCONNECTED&&this.logOut&&(this.unSendMsgArr=[],this.offLineSendConnecting=!1,this.context={status:_code.STATUS_INIT,appKey:e}),this.intervalId&&clearInterval(this.intervalId),this.restIndex=0,this.xmppIndex=0,this.errorType==_code.WEBIM_CONNCTION_CLIENT_LOGOUT||-1==this.errorType){var t={data:{data:"logout"},type:_code.WEBIM_CONNCTION_CLIENT_LOGOUT};this.onError(t)}},connection.prototype.getChatRooms=function(e){var t=this,n=e.accessToken||this.context.accessToken;if(_utils.isCanSetRequestHeader)if(n){var o=e.apiUrl,r=this.context.appName,i=this.context.orgName;if(!r||!i)return void t.onError({type:_code.WEBIM_CONNCTION_AUTH_ERROR});var s={url:o+"/"+i+"/"+r+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+n},data:{pagenum:parseInt(e.pagenum)||1,pagesize:parseInt(e.pagesize)||20},success:function(t,n){"function"==typeof e.success&&e.success(t)}||_utils.emptyfn,error:function(e,n,o){e.error&&e.error_description&&t.onError({type:_code.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,msg:e.error_description,data:e,xhr:n})}||_utils.emptyfn};_utils.ajax(s)}else t.onError({type:_code.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR});else t.onError({type:_code.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},connection.prototype.joinChatRoom=function(e){var t=this.context.appKey+"_"+e.roomId+"@conference."+this.domain+"/"+this.context.userId,n=e.success||_utils.emptyfn,o=e.error||_utils.emptyfn,r=$pres({from:this.context.jid,to:t}).c("x",{xmlns:Strophe.NS.MUC+"#user"}).c("item",{affiliation:"member",role:"participant"}).up().up().c("roomtype",{xmlns:"easemob:x:roomtype",type:"chatroom"});this.context.stropheConn.sendIQ(r.tree(),n,function(e){o({type:_code.WEBIM_CONNCTION_JOINCHATROOM_ERROR,data:e})})},connection.prototype.quitChatRoom=function(e){var t=this.context.appKey+"_"+e.roomId+"@conference."+this.domain+"/"+this.context.userId,n=e.success||_utils.emptyfn,o=e.error||_utils.emptyfn,r=$pres({from:this.context.jid,to:t,type:"unavailable"}).c("x",{xmlns:Strophe.NS.MUC+"#user"}).c("item",{affiliation:"none",role:"none"}).up().up().c("roomtype",{xmlns:"easemob:x:roomtype",type:"chatroom"});this.context.stropheConn.sendIQ(r.tree(),n,function(e){o({type:_code.WEBIM_CONNCTION_QUITCHATROOM_ERROR,data:e})})},connection.prototype._onReceiveInviteFromGroup=function(info){info=eval("("+info+")");var self=this,options={title:"Group invitation",msg:info.user+" invites you to join into group:"+info.group_id,agree:function(){WebIM.doQuery('{"type":"acceptInvitationFromGroup","id":"'+info.group_id+'","user":"'+info.user+'"}',function(e){},function(e,t){var n={data:{data:"acceptInvitationFromGroup error:"+t},type:_code.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP};self.onError(n)})},reject:function(){WebIM.doQuery('{"type":"declineInvitationFromGroup","id":"'+info.group_id+'","user":"'+info.user+'"}',function(e){},function(e,t){var n={data:{data:"declineInvitationFromGroup error:"+t},type:_code.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP};self.onError(n)})}};this.onConfirmPop(options)},connection.prototype._onReceiveInviteAcceptionFromGroup=function(info){info=eval("("+info+")");var options={title:"Group invitation response",msg:info.user+" agreed to join into group:"+info.group_id,agree:function(){}};this.onConfirmPop(options)},connection.prototype._onReceiveInviteDeclineFromGroup=function(info){info=eval("("+info+")");var options={title:"Group invitation response",msg:info.user+" rejected to join into group:"+info.group_id,agree:function(){}};this.onConfirmPop(options)},connection.prototype._onAutoAcceptInvitationFromGroup=function(info){info=eval("("+info+")");var options={title:"Group invitation",msg:"You had joined into the group:"+info.group_name+" automatically.Inviter:"+info.user,agree:function(){}};this.onConfirmPop(options)},connection.prototype._onLeaveGroup=function(info){info=eval("("+info+")");var options={title:"Group notification",msg:"You have been out of the group:"+info.group_id+".Reason:"+info.msg,agree:function(){}};this.onConfirmPop(options)},connection.prototype._onReceiveJoinGroupApplication=function(info){info=eval("("+info+")");var self=this,options={title:"Group join application",msg:info.user+" applys to join into group:"+info.group_id,agree:function(){WebIM.doQuery('{"type":"acceptJoinGroupApplication","id":"'+info.group_id+'","user":"'+info.user+'"}',function(e){},function(e,t){var n={data:{data:"acceptJoinGroupApplication error:"+t},type:_code.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP};self.onError(n)})},reject:function(){WebIM.doQuery('{"type":"declineJoinGroupApplication","id":"'+info.group_id+'","user":"'+info.user+'"}',function(e){},function(e,t){var n={data:{data:"declineJoinGroupApplication error:"+t},type:_code.WEBIM_CONNECTION_DECLINE_JOIN_GROUP};self.onError(n)})}};this.onConfirmPop(options)},connection.prototype._onReceiveAcceptionFromGroup=function(info){info=eval("("+info+")");var options={title:"Group notification",msg:"You had joined into the group:"+info.group_name+".",agree:function(){}};this.onConfirmPop(options)},connection.prototype._onReceiveRejectionFromGroup=function(){info=eval("("+info+")");var options={title:"Group notification",msg:"You have been rejected to join into the group:"+info.group_name+".",agree:function(){}};this.onConfirmPop(options)},connection.prototype._onUpdateMyGroupList=function(e){this.onUpdateMyGroupList(e)},connection.prototype._onUpdateMyRoster=function(e){this.onUpdateMyRoster(e)},connection.prototype.reconnect=function(){var e=this;setTimeout(function(){_login(e.context.restTokenData,e)},1e3*(0==this.autoReconnectNumTotal?0:this.autoReconnectInterval)),this.autoReconnectNumTotal++},connection.prototype.closed=function(){var e={data:{data:"Closed error"},type:_code.WEBIM_CONNECTION_CLOSED};this.onError(e)},connection.prototype.getBlacklist=function(e){e=e||{};var t=$iq({type:"get"}),n=e.success||_utils.emptyfn,o=e.error||_utils.emptyfn,r=this;t.c("query",{xmlns:"jabber:iq:privacy"}).c("list",{name:"special"}),this.context.stropheConn.sendIQ(t.tree(),function(e){r.onBlacklistUpdate(_parsePrivacy(e)),n()},function(){r.onBlacklistUpdate([]),o()})},connection.prototype.addToBlackList=function(e){for(var t=$iq({type:"set"}),n=e.list||{},o=e.type||"jid",r=e.success||_utils.emptyfn,i=e.error||_utils.emptyfn,s=t.c("query",{xmlns:"jabber:iq:privacy"}).c("list",{name:"special"}),a=Object.keys(n),c=a.length,u=2,l=0;l<c;l++){var p=n[a[l]],d=(o=p.type||"jid",p.jid);s=s.c("item",{action:"deny",order:u++,type:o,value:d}).c("message"),l!==c-1&&(s=s.up().up())}this.context.stropheConn.sendIQ(s.tree(),r,i)},connection.prototype.removeFromBlackList=function(e){for(var t=$iq({type:"set"}),n=e.list||{},o=e.success||_utils.emptyfn,r=e.error||_utils.emptyfn,i=t.c("query",{xmlns:"jabber:iq:privacy"}).c("list",{name:"special"}),s=Object.keys(n),a=s.length,c=0;c<a;c++){var u=n[s[c]],l=u.type||"jid",p=u.jid,d=u.order;i=i.c("item",{action:"deny",order:d,type:l,value:p}).c("message"),c!==a-1&&(i=i.up().up())}this.context.stropheConn.sendIQ(i.tree(),o,r)},connection.prototype._getGroupJid=function(e){return(this.context.appKey||"")+"_"+e+"@conference."+this.domain},connection.prototype.addToGroupBlackList=function(e){var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o=_getJid(e,this),r=this._getGroupJid(e.roomId),i=$iq({type:"set",to:r});i.c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"outcast",jid:o}),this.context.stropheConn.sendIQ(i.tree(),t,n)},connection.prototype.getGroupBlacklist=function(e){var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o=this._getGroupJid(e.roomId),r=$iq({type:"get",to:o});r.c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"outcast"}),this.context.stropheConn.sendIQ(r.tree(),function(e){t(_parseGroupBlacklist(e))},function(){n()})},connection.prototype.removeGroupMemberFromBlacklist=function(e){var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o=_getJid(e,this),r=this._getGroupJid(e.roomId),i=$iq({type:"set",to:r});i.c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"none",jid:o}),this.context.stropheConn.sendIQ(i.tree(),function(e){t()},function(){n()})},connection.prototype.changeGroupSubject=function(e){var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o=this._getGroupJid(e.roomId),r=$iq({type:"set",to:o});r.c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{type:"submit",xmlns:"jabber:x:data"}).c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up().c("field",{var:"muc#roomconfig_roomname"}).c("value").t(e.subject).up().up().c("field",{var:"muc#roomconfig_roomdesc"}).c("value").t(e.description),this.context.stropheConn.sendIQ(r.tree(),function(e){t()},function(){n()})},connection.prototype.destroyGroup=function(e){var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o=this._getGroupJid(e.roomId),r=$iq({type:"set",to:o});r.c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("destroy").c("reason").t(e.reason||""),this.context.stropheConn.sendIQ(r.tree(),function(e){t()},function(){n()})},connection.prototype.leaveGroupBySelf=function(e){var t=this,n=e.success||_utils.emptyfn,o=e.error||_utils.emptyfn,r=_getJid(e,this),i=this._getGroupJid(e.roomId),s=$iq({type:"set",to:i});s.c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{affiliation:"none",jid:r}),this.context.stropheConn.sendIQ(s.tree(),function(e){n(e);var o=$pres({type:"unavailable",to:i+"/"+t.context.userId});t.sendCommand(o.tree())},function(e){o(e)})},connection.prototype.leaveGroup=function(e){for(var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o=e.list||[],r=this._getGroupJid(e.roomId),i=$iq({type:"set",to:r}),s=i.c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}),a=Object.keys(o),c=a.length,u=0;u<c;u++){var l=o[a[u]],p=_getJidByName(l,this);s=s.c("item",{affiliation:"none",jid:p}).up().c("item",{role:"none",jid:p}).up()}this.context.stropheConn.sendIQ(i.tree(),function(e){t(e)},function(e){n(e)})},connection.prototype.addGroupMembers=function(e){for(var t=e.success||_utils.emptyfn,n=e.error||_utils.emptyfn,o=e.list||[],r=this._getGroupJid(e.roomId),i=$iq({type:"set",to:r}),s=i.c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}),a=o.length,c=0;c<a;c++){var u=_getJidByName(o[c],this);s=s.c("item",{affiliation:"member",jid:u}).up();var l=$msg({to:r}).c("x",{xmlns:"http://jabber.org/protocol/muc#user"}).c("invite",{to:u}).c("reason").t(e.reason||"");this.sendCommand(l.tree())}this.context.stropheConn.sendIQ(i.tree(),function(e){t(e)},function(e){n(e)})},connection.prototype.acceptInviteFromGroup=function(e){e.success=function(){},this.addGroupMembers(e)},connection.prototype.rejectInviteFromGroup=function(e){},connection.prototype.createGroupAsync=function(e){var t=e.from,n=this,o=this._getGroupJid(t),r=(this.context.userId,this.groupOption),i=e.success||_utils.emptyfn,s=$iq({type:"get",to:o}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});n.context.stropheConn.sendIQ(s.tree(),function(e){if("setAttribute"in e){var s=e.getElementsByTagName("x")[0];s.setAttribute("type","submit")}else Strophe.forEachChild(e,"x",function(e){e.setAttribute("type","submit")});Strophe.info("step 5 ----------"),Strophe.forEachChild(s,"field",function(e){var t=e.getAttribute("var"),n=e.getElementsByTagName("value")[0];switch(Strophe.info(t),t){case"muc#roomconfig_maxusers":_setText(n,r.optionsMaxUsers||200);break;case"muc#roomconfig_roomname":_setText(n,r.subject||"");break;case"muc#roomconfig_roomdesc":_setText(n,r.description||"");break;case"muc#roomconfig_publicroom":_setText(n,+r.optionsPublic);break;case"muc#roomconfig_membersonly":_setText(n,+r.optionsMembersOnly);break;case"muc#roomconfig_moderatedroom":_setText(n,+r.optionsModerate);break;case"muc#roomconfig_persistentroom":_setText(n,1);break;case"muc#roomconfig_allowinvites":_setText(n,+r.optionsAllowInvites);break;case"muc#roomconfig_allowvisitornickchange":case"muc#roomconfig_allowvisitorstatus":case"allow_private_messages":_setText(n,0);break;case"allow_private_messages_from_visitors":_setText(n,"nobody")}});var a=$iq({to:o,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).cnode(s);n.context.stropheConn.sendIQ(a.tree(),function(e){n.addGroupMembers({list:r.members,roomId:t}),i(r)},function(e){})},function(e){})},connection.prototype.createGroup=function(e){this.groupOption=e;var t=+new Date,n=this._getGroupJid(t)+"/"+this.context.userId,o=$pres({to:n}).c("x",{xmlns:"http://jabber.org/protocol/muc"}).up().c("create",{xmlns:"http://jabber.org/protocol/muc"}).up();this.sendCommand(o.tree())},connection.prototype.createGroupNew=function(e){e.data.owner=this.user;var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups",dataType:"json",type:"POST",data:JSON.stringify(e.data),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=function(t){e.success(t),this.onCreateGroup(t)}.bind(this),t.error=e.error||_utils.emptyfn,WebIM.utils.ajax(t)},connection.prototype.blockGroup=function(e){var t=e.groupId;t="notification_ignore_"+t;var n={entities:[]};n.entities[0]={},n.entities[0][t]=!0;var o={type:"PUT",url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users/"+this.user,data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.joinGroup=function(e){var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e.groupId+"/apply",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=e.success||_utils.emptyfn,t.error=e.error||_utils.emptyfn,WebIM.utils.ajax(t)},connection.prototype.listGroups=function(e){var t=[];if(t.limit=e.limit,t.cursor=e.cursor,t.cursor||delete t.cursor,isNaN(e.limit))throw'The parameter "limit" should be a number';var n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/publicchatgroups",type:"GET",dataType:"json",data:t,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||_utils.emptyfn,n.error=e.error||_utils.emptyfn,WebIM.utils.ajax(n)},connection.prototype.getGroupInfo=function(e){var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e.groupId,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=e.success||_utils.emptyfn,t.error=e.error||_utils.emptyfn,WebIM.utils.ajax(t)},connection.prototype.getGroup=function(e){var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=e.success||_utils.emptyfn,t.error=e.error||_utils.emptyfn,WebIM.utils.ajax(t)},connection.prototype.listGroupMember=function(e){if(isNaN(e.pageNum)||e.pageNum<=0)throw'The parameter "pageNum" should be a positive number';if(isNaN(e.pageSize)||e.pageSize<=0)throw'The parameter "pageSize" should be a positive number';if(null===e.groupId&&void 0===e.groupId)throw'The parameter "groupId" should be added';var t=[],n=e.groupId;t.pagenum=e.pageNum,t.pagesize=e.pageSize;var o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+n+"/users",dataType:"json",type:"GET",data:t,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.mute=function(e){var t=e.groupId,n={usernames:[e.username],mute_duration:e.muteDuration},o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/mute",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(n)};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.removeMute=function(e){var t=e.groupId,n=e.username,o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/mute/"+n,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.getGroupAdmin=function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||_utils.emptyfn,n.error=e.error||_utils.emptyfn,WebIM.utils.ajax(n)},connection.prototype.getMuted=function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||_utils.emptyfn,n.error=e.error||_utils.emptyfn,WebIM.utils.ajax(n)},connection.prototype.setAdmin=function(e){var t=e.groupId,n={newadmin:e.username},o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/admin",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.removeAdmin=function(e){var t=e.groupId,n=e.username,o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/admin/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.agreeJoinGroup=function(e){var t=e.groupId,n={applicant:e.applicant,verifyResult:!0,reason:"no clue"},o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/apply_verify",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.rejectJoinGroup=function(e){var t=e.groupId,n={applicant:e.applicant,verifyResult:!1,reason:"no clue"},o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/apply_verify",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.groupBlockSingle=function(e){var t=e.groupId,n=e.username,o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users/"+n,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.groupBlockMulti=function(e){var t=e.groupId,n={usernames:e.usernames},o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users",data:JSON.stringify(n),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.removeGroupBlockSingle=function(e){var t=e.groupId,n=e.username,o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.removeGroupBlockMulti=function(e){var t=e.groupId,n=e.username.join(","),o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.dissolveGroup=function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"?version=v3",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||_utils.emptyfn,n.error=e.error||_utils.emptyfn,WebIM.utils.ajax(n)},connection.prototype.getGroupBlacklistNew=function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||_utils.emptyfn,n.error=e.error||_utils.emptyfn,WebIM.utils.ajax(n)},connection.prototype.quitGroup=function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/quit",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||_utils.emptyfn,n.error=e.error||_utils.emptyfn,WebIM.utils.ajax(n)},connection.prototype.modifyGroup=function(e){var t=e.groupId,n={groupname:e.groupName,description:e.description},o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t,type:"PUT",data:JSON.stringify(n),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.removeSingleGroupMember=function(e){var t=e.groupId,n=e.username,o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.removeMultiGroupMember=function(e){var t=e.groupId,n=e.users.join(","),o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)},connection.prototype.inviteToGroup=function(e){var t=e.groupId,n={usernames:e.users},o={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/invite",type:"POST",data:JSON.stringify(n),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||_utils.emptyfn,o.error=e.error||_utils.emptyfn,WebIM.utils.ajax(o)};var WebIM=window.WebIM||{};WebIM.connection=connection,WebIM.utils=_utils,WebIM.statusCode=_code,WebIM.message=_msg.message,WebIM.doQuery=function(e,t,n){void 0!==window.cefQuery&&window.cefQuery({request:e,persistent:!1,onSuccess:t,onFailure:n})},WebIM&&WebIM.config.isDebug&&(Strophe.Connection.prototype.rawOutput=function(e){console.log("%c "+WebIM.utils.ts()+"[send] "+e,"background-color: #e2f7da")}),WebIM&&WebIM.config&&WebIM.config.isSandBox&&(WebIM.config.xmppURL=WebIM.config.xmppURL.replace(".easemob.","-sandbox.easemob."),WebIM.config.apiURL=WebIM.config.apiURL.replace(".easemob.","-sdb.easemob.")),module.exports=WebIM},"1J88":function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(t){var n=e,o=n.lib,r=o.Base,i=o.WordArray,s=n.x64={};s.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],o=0;o<t;o++){var r=e[o];n.push(r.high),n.push(r.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,o=0;o<n;o++)t[o]=t[o].clone();return e}})}(),e})},"3NE9":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("uFh6"),n("gykg"),n("wj1U"),n("fGru"))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(n=0;n<8;n++){var o=e[n]+t[n],r=65535&o,a=o>>>16,c=((r*r>>>17)+r*a>>>15)+a*a,u=((4294901760&o)*o|0)+((65535&o)*o|0);s[n]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}var n=e,o=n.lib.StreamCipher,r=[],i=[],s=[],a=n.algo.RabbitLegacy=o.extend({_doReset:function(){var e=this._key.words,n=this.cfg.iv,o=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)t.call(this);for(i=0;i<8;i++)r[i]^=o[i+4&7];if(n){var s=n.words,a=s[0],c=s[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=u>>>16|4294901760&l,d=l<<16|65535&u;r[0]^=u,r[1]^=p,r[2]^=l,r[3]^=d,r[4]^=u,r[5]^=p,r[6]^=l,r[7]^=d;for(i=0;i<4;i++)t.call(this)}},_doProcessBlock:function(e,n){var o=this._X;t.call(this),r[0]=o[0]^o[5]>>>16^o[3]<<16,r[1]=o[2]^o[7]>>>16^o[5]<<16,r[2]=o[4]^o[1]>>>16^o[7]<<16,r[3]=o[6]^o[3]>>>16^o[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[n+i]^=r[i]},blockSize:4,ivSize:2});n.RabbitLegacy=o._createHelper(a)}(),e.RabbitLegacy})},"4pyl":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("uFh6"),n("gykg"),n("wj1U"),n("fGru"))}(0,function(e){return function(){function t(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function n(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var o=e,r=o.lib,i=r.WordArray,s=r.BlockCipher,a=o.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=a.DES=s.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var o=c[n]-1;t[n]=e[o>>>5]>>>31-o%32&1}for(var r=this._subKeys=[],i=0;i<16;i++){var s=r[i]=[],a=l[i];for(n=0;n<24;n++)s[n/6|0]|=t[(u[n]-1+a)%28]<<31-n%6,s[4+(n/6|0)]|=t[28+(u[n+24]-1+a)%28]<<31-n%6;s[0]=s[0]<<1|s[0]>>>31;for(n=1;n<7;n++)s[n]=s[n]>>>4*(n-1)+3;s[7]=s[7]<<5|s[7]>>>27}var p=this._invSubKeys=[];for(n=0;n<16;n++)p[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,o,r){this._lBlock=e[o],this._rBlock=e[o+1],t.call(this,4,252645135),t.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),t.call(this,1,1431655765);for(var i=0;i<16;i++){for(var s=r[i],a=this._lBlock,c=this._rBlock,u=0,l=0;l<8;l++)u|=p[l][((c^s[l])&d[l])>>>0];this._lBlock=c,this._rBlock=a^u}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,t.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),e[o]=this._lBlock,e[o+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});o.DES=s._createHelper(f);var h=a.TripleDES=s.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(i.create(e.slice(0,2))),this._des2=f.createEncryptor(i.create(e.slice(2,4))),this._des3=f.createEncryptor(i.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});o.TripleDES=s._createHelper(h)}(),e.TripleDES})},"5Pol":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("uFh6"),n("gykg"),n("wj1U"),n("fGru"))}(0,function(e){return function(){function t(){for(var e=this._S,t=this._i,n=this._j,o=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,o|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,o}var n=e,o=n.lib.StreamCipher,r=n.algo,i=r.RC4=o.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,o=this._S=[],r=0;r<256;r++)o[r]=r;r=0;for(var i=0;r<256;r++){var s=r%n,a=t[s>>>2]>>>24-s%4*8&255;i=(i+o[r]+a)%256;var c=o[r];o[r]=o[i],o[i]=c}this._i=this._j=0},_doProcessBlock:function(e,n){e[n]^=t.call(this)},keySize:8,ivSize:0});n.RC4=o._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)t.call(this)}});n.RC4Drop=o._createHelper(s)}(),e.RC4})},"6qVS":function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,o=[],r=0;r<t;r++)o[r>>>2]|=e[r]<<24-r%4*8;n.call(this,o,t)}else n.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray})},"8lT+":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return function(t){var n=e,o=n.lib.CipherParams,r=n.enc.Hex;n.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return o.create({ciphertext:t})}}}(),e.format.Hex})},"96it":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,o=4*t,r=o-n%o,i=n+r-1;e.clamp(),e.words[i>>>2]|=r<<24-i%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923})},Av7u:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("1J88"),n("6qVS"),n("drMw"),n("uFh6"),n("gykg"),n("Ff/Y"),n("mP1F"),n("0hgu"),n("QA75"),n("x067"),n("v1IJ"),n("hjGT"),n("PIk1"),n("bBGs"),n("wj1U"),n("fGru"),n("E3Xu"),n("kVWZ"),n("s9og"),n("YeRv"),n("Trqf"),n("96it"),n("HYom"),n("Gqr1"),n("E+Sk"),n("0Iyz"),n("8lT+"),n("FQmK"),n("4pyl"),n("5Pol"),n("gkUh"),n("3NE9"))}(0,function(e){return e})},"E+Sk":function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},e.pad.ZeroPadding})},E3Xu:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.mode.CFB=function(){function t(e,t,n,o){var r=this._iv;if(r){var i=r.slice(0);this._iv=void 0}else i=this._prevBlock;o.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}var n=e.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var o=this._cipher,r=o.blockSize;t.call(this,e,n,r,o),this._prevBlock=e.slice(n,n+r)}}),n.Decryptor=n.extend({processBlock:function(e,n){var o=this._cipher,r=o.blockSize,i=e.slice(n,n+r);t.call(this,e,n,r,o),this._prevBlock=i}}),n}(),e.mode.CFB})},FOfn:function(e,t,n){!function(){var e=function(){},o=n("R7SP").code,r=function(t){t=t||!0;var n=function(){try{return new window.XMLHttpRequest}catch(e){return!1}}()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}}();if("withCredentials"in n)return n;if(!t)return n;if(void 0===window.XDomainRequest)return n;var o=new XDomainRequest;return o.readyState=0,o.status=100,o.onreadystatechange=e,o.onload=function(){o.readyState=4,o.status=200;var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false",e.loadXML(o.responseText),o.responseXML=e,o.response=o.responseText,o.onreadystatechange()},o.ontimeout=o.onerror=function(){o.readyState=4,o.status=500,o.onreadystatechange()},o},i=function(){if("ActiveXObject"in window)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return 0}else if(navigator.plugins&&navigator.plugins.length>0)return navigator.plugins["Shockwave Flash"];return 0}(),s=r(),a="undefined"!=typeof FormData,c="undefined"!=typeof Blob,u=s.setRequestHeader||!1,l=s.overrideMimeType||!1,p=u&&a,d=p||i,f=u&&(c||l);Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var i,s,a=[];for(i in r)e.call(r,i)&&a.push(i);if(t)for(s=0;s<o;s++)e.call(r,n[s])&&a.push(n[s]);return a}}());var h={hasFormData:a,hasBlob:c,emptyfn:e,isCanSetRequestHeader:u,hasOverrideMimeType:l,isCanUploadFileAsync:p,isCanUploadFile:d,isCanDownLoadFile:f,isSupportWss:function(){var e=[/MQQBrowser[\/]5([.]\d+)?\sTBS/];if(!window.WebSocket)return!1;for(var t=window.navigator.userAgent,n=0,o=e.length;n<o;n++)if(e[n].test(t))return!1;return!0}(),getIEVersion:function(){var e,t=navigator.userAgent,n={4:8,5:9,6:10,7:11};return(e=t.match(/MSIE (\d+)/i))&&e[1]?+e[1]:(e=t.match(/Trident\/(\d+)/i))&&e[1]?n[e[1]]||null:null}(),stringify:function(e){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(e);var t="",n=[],o=function(e){var r=!1;"[object Array]"===Object.prototype.toString.call(e)?(n.push("]","["),r=!0):"[object Object]"===Object.prototype.toString.call(e)&&n.push("}","{");for(var i in e)"[object Null]"===Object.prototype.toString.call(e[i])?e[i]="null":"[object Undefined]"===Object.prototype.toString.call(e[i])&&(e[i]="undefined"),e[i]&&"object"==typeof e[i]?t+=","+(r?"":'"'+i+'":'+(r?'"':""))+o(e[i]):t+=',"'+(r?"":i+'":"')+e[i]+'"';return""!=t&&(t=t.slice(1)),n.pop()+t+n.pop()};return o(e)},login:function(t){var n=(t=t||{}).success||e,r=t.error||e,i=(t.appKey||"").split("#");if(2!==i.length)return r({type:o.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;var s=i[0],a=i[1],c=c||t.https,u=t.user||"",l=t.pwd||"",p=t.apiUrl,d={grant_type:"password",username:u,password:l,timestamp:+new Date};t={url:p+"/"+s+"/"+a+"/token",dataType:"json",data:h.stringify(d),success:n,error:r};return h.ajax(t)},getFileUrl:function(e){var t={url:"",filename:"",filetype:"",data:""},n="string"==typeof e?document.getElementById(e):e;if(!h.isCanUploadFileAsync||!n)return t;try{if(window.URL.createObjectURL){var o=n.files;if(o.length>0){var r=o.item(0);t.data=r,t.url=window.URL.createObjectURL(r),t.filename=r.name||""}}else{r=document.getElementById(e).value;t.url=r;var i=r.lastIndexOf("/"),s=r.lastIndexOf("\\"),a=Math.max(i,s);t.filename=a<0?r:r.substring(a+1)}var c=t.filename.lastIndexOf(".");return-1!=c&&(t.filetype=t.filename.substring(c+1).toLowerCase()),t}catch(e){throw e}},getFileSize:function(e){var t=this.getFileLength(e);if(t>1e7)return!1;var n=Math.round(t/1e3);if(n<1e3)t=n+" KB";else if(n>=1e3){var o=n/1e3;if(o<1e3)t=o.toFixed(1)+" MB";else{t=(o/1e3).toFixed(1)+" GB"}}return t},getFileLength:function(e){var t=0;if(e)if(e.files)e.files.length>0&&(t=e.files[0].size);else if(e.select&&"ActiveXObject"in window){e.select();t=(e=new ActiveXObject("Scripting.FileSystemObject").GetFile(e.value)).Size}return t},hasFlash:i,trim:function(e){return(e="string"==typeof e?e:"").trim?e.trim():e.replace(/^\s|\s$/g,"")},parseEmoji:function(e){if(void 0===WebIM.Emoji||void 0===WebIM.Emoji.map)return e;var t=WebIM.Emoji;for(var n in t.map)if(t.map.hasOwnProperty(n))for(;e.indexOf(n)>-1;)e=e.replace(n,'<img class="emoji" src="'+t.path+t.map[n]+'" />');return e},parseLink:function(e){return e=e.replace(/(https?\:\/\/|www\.)([a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+)(\:[0-9]{2,4})?\/?((\.[:_0-9a-zA-Z-]+)|[:_0-9a-zA-Z-]*\/?)*\??[:_#@*&%0-9a-zA-Z-/=]*/gm,function(e){return"<a href='"+(/^https?/gm.test(e)?e:"//"+e)+"' target='_blank'>"+e+"</a>"})},parseJSON:function(e){if(window.JSON&&window.JSON.parse)return window.JSON.parse(e+"");var t,n=null,o=h.trim(e+"");return o&&!h.trim(o.replace(/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,function(e,o,r,i){return t&&o&&(n=0),0===n?e:(t=r||o,n+=!i-!r,"")}))?Function("return "+o)():Function("Invalid JSON: "+e)()},parseUploadResponse:function(e){return e.indexOf("callback")>-1?e.slice(9,-1):e},parseDownloadResponse:function(e){return e&&e.type&&"application/json"===e.type||0>Object.prototype.toString.call(e).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(e)},uploadFile:function(t){(t=t||{}).onFileUploadProgress=t.onFileUploadProgress||e,t.onFileUploadComplete=t.onFileUploadComplete||e,t.onFileUploadError=t.onFileUploadError||e,t.onFileUploadCanceled=t.onFileUploadCanceled||e;var n=t.accessToken||this.context.accessToken;if(n){var r,i,s,a=t.appKey||this.context.appKey||"";if(a&&(r=(s=a.split("#"))[0],i=s[1]),r||i){var c=t.apiUrl+"/"+r+"/"+i+"/chatfiles";if(h.isCanUploadFileAsync){var u=t.file.data?t.file.data.size:void 0;if(u>10485760)t.onFileUploadError({type:o.WEBIM_UPLOADFILE_ERROR,id:t.id});else if(u<=0)t.onFileUploadError({type:o.WEBIM_UPLOADFILE_ERROR,id:t.id});else{var l=h.xmlrequest(),p=function(e){t.onFileUploadError({type:o.WEBIM_UPLOADFILE_ERROR,id:t.id,xhr:l})};l.upload&&l.upload.addEventListener("progress",t.onFileUploadProgress,!1),l.addEventListener?(l.addEventListener("abort",t.onFileUploadCanceled,!1),l.addEventListener("load",function(e){try{var n=h.parseJSON(l.responseText);try{t.onFileUploadComplete(n)}catch(e){t.onFileUploadError({type:o.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}}catch(e){t.onFileUploadError({type:o.WEBIM_UPLOADFILE_ERROR,data:l.responseText,id:t.id,xhr:l})}},!1),l.addEventListener("error",p,!1)):l.onreadystatechange&&(l.onreadystatechange=function(){if(4===l.readyState)if(200===ajax.status)try{var e=h.parseJSON(l.responseText);t.onFileUploadComplete(e)}catch(e){t.onFileUploadError({type:o.WEBIM_UPLOADFILE_ERROR,data:l.responseText,id:t.id,xhr:l})}else t.onFileUploadError({type:o.WEBIM_UPLOADFILE_ERROR,data:l.responseText,id:t.id,xhr:l});else l.abort(),t.onFileUploadCanceled()}),l.open("POST",c),l.setRequestHeader("restrict-access","true"),l.setRequestHeader("Accept","*/*"),l.setRequestHeader("Authorization","Bearer "+n);var d=new FormData;d.append("file",t.file.data),window.XDomainRequest&&(l.readyState=2),l.send(d)}}else h.hasFlash&&"function"==typeof t.flashUpload?t.flashUpload&&t.flashUpload(c,t):t.onFileUploadError({type:o.WEBIM_UPLOADFILE_BROWSER_ERROR,id:t.id})}else t.onFileUploadError({type:o.WEBIM_UPLOADFILE_ERROR,id:t.id})}else t.onFileUploadError({type:o.WEBIM_UPLOADFILE_NO_LOGIN,id:t.id})},download:function(t){t.onFileDownloadComplete=t.onFileDownloadComplete||e,t.onFileDownloadError=t.onFileDownloadError||e;var n=t.accessToken||this.context.accessToken;if(n){var r=function(e){t.onFileDownloadError({type:o.WEBIM_DOWNLOADFILE_ERROR,id:t.id,xhr:i})};if(h.isCanDownLoadFile){var i=h.xmlrequest();"addEventListener"in i?(i.addEventListener("load",function(e){t.onFileDownloadComplete(i.response,i)},!1),i.addEventListener("error",r,!1)):"onreadystatechange"in i&&(i.onreadystatechange=function(){4===i.readyState?200===ajax.status?t.onFileDownloadComplete(i.response,i):t.onFileDownloadError({type:o.WEBIM_DOWNLOADFILE_ERROR,id:t.id,xhr:i}):(i.abort(),t.onFileDownloadError({type:o.WEBIM_DOWNLOADFILE_ERROR,id:t.id,xhr:i}))});var s=t.method||"GET",a=t.responseType||"blob",c=t.mimeType||"text/plain; charset=x-user-defined";i.open(s,t.url),"undefined"!=typeof Blob?i.responseType=a:i.overrideMimeType(c);var u={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":t.secret,Authorization:"Bearer "+n},l=t.headers||{};for(var p in l)u[p]=l[p];for(var p in u)u[p]&&i.setRequestHeader(p,u[p]);window.XDomainRequest&&(i.readyState=2),i.send(null)}else t.onFileDownloadComplete()}else t.onFileDownloadError({type:o.WEBIM_DOWNLOADFILE_NO_LOGIN,id:t.id})},parseTextMessage:function(e,t){if("string"==typeof e){if("[object Object]"!==Object.prototype.toString.call(t))return{isemoji:!1,body:[{type:"txt",data:e}]};var n=e,o=[],r=n.match(/\[[^[\]]{2,3}\]/gm);if(!r||r.length<1)return{isemoji:!1,body:[{type:"txt",data:e}]};for(var i=!1,s=0;s<r.length;s++){var a=n.substring(0,n.indexOf(r[s])),c=WebIM.Emoji.map[r[s]];if(a&&o.push({type:"txt",data:a}),c){var u=WebIM.Emoji.map?WebIM.Emoji.path+c:null;u?(i=!0,o.push({type:"emoji",data:u})):o.push({type:"txt",data:r[s]});var l=n.indexOf(r[s])+r[s].length;n=n.substring(l)}else o.push({type:"txt",data:r[s]})}return n&&o.push({type:"txt",data:n}),i?{isemoji:i,body:o}:{isemoji:!1,body:[{type:"txt",data:e}]}}},parseUri:function(){var e=/([^\?|&])\w+=([^&]+)/g,t={};if(window.location.search){var n=window.location.search.match(e);for(var o in n){var r=n[o],i=r.indexOf("="),s=r.substr(0,i),a=r.substr(i+1);t[s]=a}}return t},parseHrefHash:function(){var e=/([^\#|&])\w+=([^&]+)/g,t={};if(window.location.hash){var n=window.location.hash.match(e);for(var o in n){var r=n[o],i=r.indexOf("="),s=r.substr(0,i),a=r.substr(i+1);t[s]=a}}return t},xmlrequest:r,getXmlFirstChild:function(e,t){var n=e.getElementsByTagName(t);return 0==n.length?null:n[0]},ajax:function(t){var n=t.dataType||"text",r=t.success||e,i=t.error||e,s=h.xmlrequest();s.onreadystatechange=function(){if(4!==s.readyState)0===s.readyState&&i({type:o.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText});else{if(200===(s.status||0)){try{switch(n){case"text":return void r(s.responseText);case"json":var e=h.parseJSON(s.responseText);return void r(e,s);case"xml":return void(s.responseXML&&s.responseXML.documentElement?r(s.responseXML.documentElement,s):i({type:o.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText}))}r(s.response||s.responseText,s)}catch(e){i({type:o.WEBIM_CONNCTION_AJAX_ERROR,data:e})}return}i({type:o.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText})}},t.responseType&&s.responseType&&(s.responseType=t.responseType),t.mimeType&&h.hasOverrideMimeType&&s.overrideMimeType(t.mimeType);var a=t.type||"POST",c=t.data||null,u="";if("get"===a.toLowerCase()&&c){for(var l in c)c.hasOwnProperty(l)&&(u+=l+"="+c[l]+"&");u=u?u.slice(0,-1):u,t.url+=(t.url.indexOf("?")>0?"&":"?")+(u?u+"&":u)+"_v="+(new Date).getTime(),c=null,u=null}if(s.open(a,t.url,h.isCanSetRequestHeader),h.isCanSetRequestHeader){var p=t.headers||{};for(var d in p)p.hasOwnProperty(d)&&s.setRequestHeader(d,p[d])}return window.XDomainRequest&&(s.readyState=2),s.send(c),s},ts:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),r=e.getMilliseconds();return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)+":"+r+" "},getObjectKey:function(e,t){for(var n in e)if(e[n]==t)return n;return""},sprintf:function(){var e,t,n=arguments,o=n[0]||"";for(e=1,t=n.length;e<t;e++)o=o.replace(/%s/,n[e]);return o},setCookie:function(e,t,n){var o=e+"="+encodeURIComponent(t);"number"==typeof n&&(o+="; max-age: "+60*n*60*24),document.cookie=o},getCookie:function(){var e={},t=document.cookie;if(""===t)return e;for(var n=t.split("; "),o=0;o<n.length;o++){var r=n[o],i=r.indexOf("="),s=r.substring(0,i),a=r.substring(i+1);a=decodeURIComponent(a),e[s]=a}return e}};t.utils=h}()},FQmK:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("uFh6"),n("gykg"),n("wj1U"),n("fGru"))}(0,function(e){return function(){var t=e,n=t.lib.BlockCipher,o=t.algo,r=[],i=[],s=[],a=[],c=[],u=[],l=[],p=[],d=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,o=0;for(t=0;t<256;t++){var h=o^o<<1^o<<2^o<<3^o<<4;h=h>>>8^255&h^99,r[n]=h,i[h]=n;var m=e[n],_=e[m],g=e[_],y=257*e[h]^16843008*h;s[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y;y=16843009*g^65537*_^257*m^16843008*n;l[h]=y<<24|y>>>8,p[h]=y<<16|y>>>16,d[h]=y<<8|y>>>24,f[h]=y,n?(n=m^e[e[e[g^m]]],o^=e[e[o]]):n=o=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],m=o.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,o=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],s=0;s<o;s++)if(s<n)i[s]=t[s];else{var a=i[s-1];s%n?n>6&&s%n==4&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=h[s/n|0]<<24),i[s]=i[s-n]^a}for(var c=this._invKeySchedule=[],u=0;u<o;u++){s=o-u;if(u%4)a=i[s];else a=i[s-4];c[u]=u<4||s<=4?a:l[r[a>>>24]]^p[r[a>>>16&255]]^d[r[a>>>8&255]]^f[r[255&a]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,u,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,p,d,f,i);n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,o,r,i,s,a){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],p=e[t+2]^n[2],d=e[t+3]^n[3],f=4,h=1;h<c;h++){var m=o[u>>>24]^r[l>>>16&255]^i[p>>>8&255]^s[255&d]^n[f++],_=o[l>>>24]^r[p>>>16&255]^i[d>>>8&255]^s[255&u]^n[f++],g=o[p>>>24]^r[d>>>16&255]^i[u>>>8&255]^s[255&l]^n[f++],y=o[d>>>24]^r[u>>>16&255]^i[l>>>8&255]^s[255&p]^n[f++];u=m,l=_,p=g,d=y}m=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[p>>>8&255]<<8|a[255&d])^n[f++],_=(a[l>>>24]<<24|a[p>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^n[f++],g=(a[p>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^n[f++],y=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&p])^n[f++];e[t]=m,e[t+1]=_,e[t+2]=g,e[t+3]=y},keySize:8});t.AES=n._createHelper(m)}(),e.AES})},"Ff/Y":function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(){var t=e,n=t.lib,o=n.WordArray,r=n.Hasher,i=[],s=t.algo.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],s=n[2],a=n[3],c=n[4],u=0;u<80;u++){if(u<16)i[u]=0|e[t+u];else{var l=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=l<<1|l>>>31}var p=(o<<5|o>>>27)+c+i[u];p+=u<20?1518500249+(r&s|~r&a):u<40?1859775393+(r^s^a):u<60?(r&s|r&a|s&a)-1894007588:(r^s^a)-899497514,c=a,a=s,s=r<<30|r>>>2,r=o,o=p}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(o+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=r._createHelper(s),t.HmacSHA1=r._createHmacHelper(s)}(),e.SHA1})},Gql3:function(e,t,n){"use strict";var o=n("u4eY");n("zecL");var r=window.WebIM,i=new r.connection({isMultiLoginSessions:r.config.isMultiLoginSessions,https:"boolean"==typeof r.config.https?r.config.https:"https:"===location.protocol,url:r.config.xmppURL,heartBeatWait:r.config.heartBeatWait,autoReconnectNumMax:r.config.autoReconnectNumMax,autoReconnectInterval:r.config.autoReconnectInterval,apiUrl:r.config.apiURL,isAutoLogin:r.config.isAutoLogin});window.conn=i,console.log(i),i.listen({onOpened:function(e){console.log("=====登录成功！！！"),a()},onClosed:function(e){console.log("连接关闭回调")},onTextMessage:function(e){console.log("收到文本消息",e)},onEmojiMessage:function(e){console.log("收到表情消息")},onPictureMessage:function(e){console.log("收到图片消息")},onCmdMessage:function(e){console.log("收到命令消息")},onAudioMessage:function(e){console.log("收到音频消息")},onLocationMessage:function(e){console.log("收到位置消息")},onFileMessage:function(e){console.log("收到文件消息")},onVideoMessage:function(e){var t=document.getElementById("privateVideo"),n={url:e.url,headers:{Accept:"audio/mp4"},onFileDownloadComplete:function(e){var n=r.utils.parseDownloadResponse.call(i,e);t.src=n},onFileDownloadError:function(){console.log("File down load error.")}};r.utils.download.call(i,n)},onPresence:function(e){console.log("onPresence",e),s(e)},onRoster:function(e){console.log("处理好友申请")},onInviteMessage:function(e){},onOnline:function(){},onOffline:function(){},onError:function(e){},onBlacklistUpdate:function(e){console.log(e)},onReceivedMessage:function(e){},onDeliveredMessage:function(e){},onReadMessage:function(e){},onCreateGroup:function(e){},onMutedMessage:function(e){}});var s=function(e){"subscribe"===e.type&&(o.a.warning("hhhhhhhhhhhhhhhhhhhhhhhhhhhh"),i.subscribed({to:"username",message:"[resp:true]"}),i.subscribe({to:e.from,message:"[resp:true]"}))},a=function(){i.getRoster({success:function(e){for(var t=0,n=e.length;t<n;t++){var o=e[t];"both"!==o.subscription&&"to"!==o.subscription||console.log("my friends ====="+o.name)}},error:function(e){alert("获取好友失败"),console.log(e)}})}},Gqr1:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})},HYom:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.pad.Iso10126={pad:function(t,n){var o=4*n,r=o-t.sigBytes%o;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126})},OjNM:function(e,t,n){"use strict";var o={};o.English={signIn:"Sign In",username:"Username",password:"Password",tokenSignin:"Sign in with token",nickname:"Nickname",signUp:"Sign Up",signUpSuccessfully:"You've signed up successfully!",notEmpty:"cannot be empty",request:"want to add you as a friend",add:"Add",delete:"Delete",addAFriend:"Add friend",delAFriend:"Delete friend",quit:"Quit",groups:"Groups",strangers:"Strangers",chatrooms:"Chat rooms",friends:"Friends",exceed:"Please upload a file less than 10M.",invalidType:"Invalid type",uploadFileFailed:"An error occured when uploading a file",agree:"Agree",reject:"Reject",send:"Send",notin:"You are not in the current chat room.",sendImageFailed:"Failed to send image!",sendAudioFailed:"Failed to send audio!",sendFileFailed:"Failed to send file!",image:"Image",audio:"Audio",file:"File",location:"Location",video:"Video",cmd:"Command",download:"Download",loading:"Loading",FileLoading:"Loading...",openFile:"Open File",openDir:"Open Dir",noaccount:"No account",signupnow:"Sign up now",joinPublicGroup:"Join Group",createGroup:"Create Group",chooseGroupMember:"Choose Member",selectedLabel:"Selected",groupMemberLabel:"Member",groupSubject:"Group Subject",groupDescription:"Group Description",groupPermission:"Group Permission",groupMemberPermission:"Group Member Permission",adminGroupMembers:"Admin Group Members",inviteGroupMembers:"Invite Group Members",changeGroupSubject:"Change Subjec",changeGroupDescription:"Change Description",destroyGroup:"Destroy",leaveGroup:"Leave",shield:"Shield",receive:"Remove shield",haveaccount:"i have account",confirm:"confirm",cancel:"cancel",contact_added:"Contact added!",contact_deleted:"Contact deleted!",addFriendSelfInvalid:"Can't add youself as friend",delFriendSelfInvalid:"Can't del youself as friend",addFriendRepeat:"is friend already",addToBlackList:"add to blacklist",blacklist:"Blacklist",ShowBlacklist:"Blacklist",groupBlacklist:"Blacklist",showGroupBlacklist:"Blacklist",memberInvite:"Invite",changeGroupInfo:"Edit group info",groupNotification:"Group Notification",fileOverSize:"Size of file can't over 10 MB",deletePrivateGroupMember:"Permission denied, can't delete private members",groupNameNotEmpty:"Group name can't be empty",refuse:"You were refused by %s",inviteToGroup:"%s invite you to the group",inviteGroup:"You invited %s to this group",createGroupSuc:"Group %s is successfully created",logoutSuc:"You are off line!",onMuted:"You were muted in this group",search:"Search",join:"Join",addToGroupBlackList:"Add to group black list",mute:"Block this member",removeMute:"Unblock this member",administrator:"Set as administrator",rmAdministrator:"Remove administrator",removeGroupMember:"Remove this member",addGroupMember:"Add Group Member",allowInvite:"Allow invite",last:""},o.Chinese={signIn:"登录",username:"用户名",password:"密码",tokenSignin:"使用token登录",nickname:"昵称",signUp:"注册",signUpSuccessfully:"注册成功",notEmpty:"不能为空",request:"请求添加好友",add:"添加",delete:"删除",addAFriend:"添加好友",delAFriend:"删除好友",quit:"退出",groups:"群组",strangers:"陌生人",chatrooms:"聊天室",friends:"好友",exceed:"请上传大小不超过10M的文件",invalidType:"不支持此类型",uploadFileFailed:"上传文件发生错误",agree:"同意",reject:"拒绝",send:"发送",notin:"您不在当前聊天室",sendImageFailed:"图片发送失败",sendAudioFailed:"发送音频失败",sendFileFailed:"文件发送失败",image:"图片",audio:"音频",file:"文件",location:"位置",video:"视频",cmd:"命令消息",download:"点击下载",loading:"正在加载",FileLoading:"正在下载...",openFile:"打开文件",openDir:"打开文件夹",noaccount:"没有账号",signupnow:"现在注册",joinPublicGroup:"申请加入公开群",createGroup:"创建群组",chooseGroupMember:"选择成员",selectedLabel:"选中",groupMemberLabel:"成员",groupSubject:"群组名",groupDescription:"群组简介",groupPermission:"群组权限",groupMemberPermission:"成员权限",adminGroupMembers:"管理群成员",inviteGroupMembers:"邀请群成员",changeGroupSubject:"修改群名称",changeGroupDescription:"修改群简介",destroyGroup:"解散群组",leaveGroup:"退出群组",shield:"消息免打扰",receive:"接受消息",haveaccount:"已有账号",confirm:"确定",cancel:"取消",contact_added:"已发送添加请求!",contact_deleted:"好友已删除!",addFriendSelfInvalid:"不能添加自己为好友",delFriendSelfInvalid:"该好友不存在",addFriendRepeat:"已经是好友",addToBlackList:"加入黑名单",blacklist:"好友黑名单",ShowBlacklist:"好友黑名单",groupBlacklist:"群组黑名单",showGroupBlacklist:"群组黑名单",memberInvite:"邀请好友",changeGroupInfo:"修改群信息",groupNotification:"群消息",fileOverSize:"文件最大不能超过10MB",deletePrivateGroupMember:"权限不够，不能删除私有群成员",groupNameNotEmpty:"群组名不能为空",refuse:"%s拒绝了你的请求",inviteToGroup:"%s邀请您进群",inviteGroup:"您邀请了%s进群",createGroupSuc:"已成功创建群组%s",logoutSuc:"您已下线",onMuted:"您已被禁言",search:"搜索",join:"加入群组",addToGroupBlackList:"加入群黑名单",mute:"禁言",removeMute:"解除禁言",administrator:"设为管理员",rmAdministrator:"移除管理员",removeGroupMember:"从本群中移除",addGroupMember:"添加群成员",allowInvite:"允许邀请入群",last:""};var r=o.Chinese;t.a=r},PIk1:function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){!function(){var t=e,n=t.lib.Base,o=t.enc.Utf8;t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,c=s.words,u=0;u<n;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();return t.finalize(this._oKey.clone().concat(n))}})}()})},QA75:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("1J88"))}(0,function(e){return function(){function t(){return i.create.apply(i,arguments)}var n=e,o=n.lib.Hasher,r=n.x64,i=r.Word,s=r.WordArray,a=n.algo,c=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=t()}();var l=a.SHA512=o.extend({_doReset:function(){this._hash=new s.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],s=n[3],a=n[4],l=n[5],p=n[6],d=n[7],f=o.high,h=o.low,m=r.high,_=r.low,g=i.high,y=i.low,v=s.high,E=s.low,b=a.high,I=a.low,O=l.high,N=l.low,T=p.high,C=p.low,M=d.high,x=d.low,R=f,S=h,w=m,B=_,A=g,k=y,j=v,F=E,U=b,D=I,W=O,G=N,L=T,P=C,H=M,q=x,z=0;z<80;z++){var J=u[z];if(z<16)var K=J.high=0|e[t+2*z],X=J.low=0|e[t+2*z+1];else{var Q=u[z-15],$=Q.high,V=Q.low,Y=($>>>1|V<<31)^($>>>8|V<<24)^$>>>7,Z=(V>>>1|$<<31)^(V>>>8|$<<24)^(V>>>7|$<<25),ee=u[z-2],te=ee.high,ne=ee.low,oe=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=u[z-7],se=ie.high,ae=ie.low,ce=u[z-16],ue=ce.high,le=ce.low;K=(K=(K=Y+se+((X=Z+ae)>>>0<Z>>>0?1:0))+oe+((X=X+re)>>>0<re>>>0?1:0))+ue+((X=X+le)>>>0<le>>>0?1:0);J.high=K,J.low=X}var pe,de=U&W^~U&L,fe=D&G^~D&P,he=R&w^R&A^w&A,me=S&B^S&k^B&k,_e=(R>>>28|S<<4)^(R<<30|S>>>2)^(R<<25|S>>>7),ge=(S>>>28|R<<4)^(S<<30|R>>>2)^(S<<25|R>>>7),ye=(U>>>14|D<<18)^(U>>>18|D<<14)^(U<<23|D>>>9),ve=(D>>>14|U<<18)^(D>>>18|U<<14)^(D<<23|U>>>9),Ee=c[z],be=Ee.high,Ie=Ee.low,Oe=H+ye+((pe=q+ve)>>>0<q>>>0?1:0),Ne=ge+me;H=L,q=P,L=W,P=G,W=U,G=D,U=j+(Oe=(Oe=(Oe=Oe+de+((pe=pe+fe)>>>0<fe>>>0?1:0))+be+((pe=pe+Ie)>>>0<Ie>>>0?1:0))+K+((pe=pe+X)>>>0<X>>>0?1:0))+((D=F+pe|0)>>>0<F>>>0?1:0)|0,j=A,F=k,A=w,k=B,w=R,B=S,R=Oe+(_e+he+(Ne>>>0<ge>>>0?1:0))+((S=pe+Ne|0)>>>0<pe>>>0?1:0)|0}h=o.low=h+S,o.high=f+R+(h>>>0<S>>>0?1:0),_=r.low=_+B,r.high=m+w+(_>>>0<B>>>0?1:0),y=i.low=y+k,i.high=g+A+(y>>>0<k>>>0?1:0),E=s.low=E+F,s.high=v+j+(E>>>0<F>>>0?1:0),I=a.low=I+D,a.high=b+U+(I>>>0<D>>>0?1:0),N=l.low=N+G,l.high=O+W+(N>>>0<G>>>0?1:0),C=p.low=C+P,p.high=T+L+(C>>>0<P>>>0?1:0),x=d.low=x+q,d.high=M+H+(x>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;t[o>>>5]|=128<<24-o%32,t[30+(o+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(o+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process();return this._hash.toX32()},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});n.SHA512=o._createHelper(l),n.HmacSHA512=o._createHmacHelper(l)}(),e.SHA512})},R7SP:function(e,t){t.code={WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR:0,WEBIM_CONNCTION_OPEN_ERROR:1,WEBIM_CONNCTION_AUTH_ERROR:2,WEBIM_CONNCTION_OPEN_USERGRID_ERROR:3,WEBIM_CONNCTION_ATTACH_ERROR:4,WEBIM_CONNCTION_ATTACH_USERGRID_ERROR:5,WEBIM_CONNCTION_REOPEN_ERROR:6,WEBIM_CONNCTION_SERVER_CLOSE_ERROR:7,WEBIM_CONNCTION_SERVER_ERROR:8,WEBIM_CONNCTION_IQ_ERROR:9,WEBIM_CONNCTION_PING_ERROR:10,WEBIM_CONNCTION_NOTIFYVERSION_ERROR:11,WEBIM_CONNCTION_GETROSTER_ERROR:12,WEBIM_CONNCTION_CROSSDOMAIN_ERROR:13,WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES:14,WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR:15,WEBIM_CONNCTION_DISCONNECTED:16,WEBIM_CONNCTION_AJAX_ERROR:17,WEBIM_CONNCTION_JOINROOM_ERROR:18,WEBIM_CONNCTION_GETROOM_ERROR:19,WEBIM_CONNCTION_GETROOMINFO_ERROR:20,WEBIM_CONNCTION_GETROOMMEMBER_ERROR:21,WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR:22,WEBIM_CONNCTION_LOAD_CHATROOM_ERROR:23,WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR:24,WEBIM_CONNCTION_JOINCHATROOM_ERROR:25,WEBIM_CONNCTION_QUITCHATROOM_ERROR:26,WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR:27,WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR:28,WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR:29,WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR:30,WEBIM_CONNCTION_CALLBACK_INNER_ERROR:31,WEBIM_CONNCTION_CLIENT_OFFLINE:32,WEBIM_CONNCTION_CLIENT_LOGOUT:33,WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR:34,WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP:35,WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP:36,WEBIM_CONNECTION_ACCEPT_JOIN_GROUP:37,WEBIM_CONNECTION_DECLINE_JOIN_GROUP:38,WEBIM_CONNECTION_CLOSED:39,WEBIM_UPLOADFILE_BROWSER_ERROR:100,WEBIM_UPLOADFILE_ERROR:101,WEBIM_UPLOADFILE_NO_LOGIN:102,WEBIM_UPLOADFILE_NO_FILE:103,WEBIM_DOWNLOADFILE_ERROR:200,WEBIM_DOWNLOADFILE_NO_LOGIN:201,WEBIM_DOWNLOADFILE_BROWSER_ERROR:202,WEBIM_MESSAGE_REC_TEXT:300,WEBIM_MESSAGE_REC_TEXT_ERROR:301,WEBIM_MESSAGE_REC_EMOTION:302,WEBIM_MESSAGE_REC_PHOTO:303,WEBIM_MESSAGE_REC_AUDIO:304,WEBIM_MESSAGE_REC_AUDIO_FILE:305,WEBIM_MESSAGE_REC_VEDIO:306,WEBIM_MESSAGE_REC_VEDIO_FILE:307,WEBIM_MESSAGE_REC_FILE:308,WEBIM_MESSAGE_SED_TEXT:309,WEBIM_MESSAGE_SED_EMOTION:310,WEBIM_MESSAGE_SED_PHOTO:311,WEBIM_MESSAGE_SED_AUDIO:312,WEBIM_MESSAGE_SED_AUDIO_FILE:313,WEBIM_MESSAGE_SED_VEDIO:314,WEBIM_MESSAGE_SED_VEDIO_FILE:315,WEBIM_MESSAGE_SED_FILE:316,WEBIM_MESSAGE_SED_ERROR:317,STATUS_INIT:400,STATUS_DOLOGIN_USERGRID:401,STATUS_DOLOGIN_IM:402,STATUS_OPENED:403,STATUS_CLOSING:404,STATUS_CLOSED:405,STATUS_ERROR:406}},Trqf:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB})},YeRv:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,r=this._iv,i=this._keystream;r&&(i=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var s=0;s<o;s++)e[t+s]^=i[s]}});return t.Decryptor=n,t}(),e.mode.OFB})},ZX3F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("a6zM"),r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-form easemobtest"},[n("el-form",[n("el-tabs",[n("el-tab-pane",{attrs:{label:e.lan.signIn+"/"+e.lan.signUp}},[n("el-form-item",{attrs:{label:"用户名","label-width":"100px"}},[n("el-input",{model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}})],1),n("el-form-item",{attrs:{label:"密码","label-width":"100px"}},[n("el-input",{model:{value:e.user.pass,callback:function(t){e.$set(e.user,"pass",t)},expression:"user.pass"}})],1),n("el-form-item",{attrs:{label:"昵称","label-width":"100px"}},[n("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:e.onLogin}},[e._v(e._s(e.lan.signIn))]),n("el-switch",{attrs:{"active-text":"使用token","inactive-text":"非token"},model:{value:e.isToken,callback:function(t){e.isToken=t},expression:"isToken"}}),n("br"),n("br"),n("el-button",{attrs:{type:"primary"},on:{click:e.onLogout}},[e._v("退出")]),n("br"),n("br"),n("el-button",{attrs:{type:"primary"},on:{click:e.onRegister}},[e._v(e._s(e.lan.signUp))])],1),n("el-tab-pane",{attrs:{label:"获取好友"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.getFriendList}},[e._v("获取好友")]),n("div",[e._v("好友列表")]),e.roster.length?n("ul",e._l(e.roster,function(t){return n("li",{key:t.jid,on:{click:function(n){e.myChatTest(t)}}},[e._v(e._s(t.name))])})):e._e(),e.roster.length?e._e():n("div",[n("div",[e._v("你还没有任何好友")])])],1),n("el-tab-pane",{attrs:{label:"添加好友"}},[n("el-form-item",{attrs:{label:"好友账号","label-width":"100px"}},[n("el-input",{attrs:{placeholder:"请输入需要添加好友账号"},model:{value:e.memberAccount,callback:function(t){e.memberAccount=t},expression:"memberAccount"}})],1),n("el-form-item",{attrs:{label:"验证信息","label-width":"100px"}},[n("el-input",{attrs:{placeholder:"请输入验证信息"},model:{value:e.validateMessage,callback:function(t){e.validateMessage=t},expression:"validateMessage"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:e.addMember}},[e._v("添加好友")])],1),n("el-tab-pane",{attrs:{label:"获取群组"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.getGroupList}},[e._v("获取群组")]),n("div",[e._v("群组列表(点击某一群组可以查询群组成员、群组黑名单、获取群组信息)")]),e.groups.length?n("ul",e._l(e.groups,function(t){return n("li",{key:t.groupid,on:{click:function(n){e.getGroupMember(t)}}},[e._v(e._s(t.groupname))])})):e._e(),e.roster.length?e._e():n("div",[n("div",[e._v("你还没有添加任何群组")])]),n("br"),n("br"),n("div",[e._v("群组成员")]),e.groupMembers.length?n("ul",e._l(e.groupMembers,function(t){return n("li",{key:t.member,on:{click:function(n){e.getFriend(t)}}},[e._v(e._s(t.member))])})):e._e(),e.groupMembers.length?e._e():n("div",[n("div",[e._v("无成员")])]),n("br"),n("br"),n("div",[e._v("群组黑名单")]),n("br"),n("br"),n("div",[e._v("获取群组信息")]),n("div")],1),n("el-tab-pane",{attrs:{label:"添加/修改群组"}},[n("el-form-item",{attrs:{label:"群组账号","label-width":"100px"}},[n("el-input",{attrs:{placeholder:"请输入需要添加群组账号"},model:{value:e.memberAccount,callback:function(t){e.memberAccount=t},expression:"memberAccount"}})],1),n("el-form-item",{attrs:{label:"验证信息","label-width":"100px"}},[n("el-input",{attrs:{placeholder:"请输入验证信息"},model:{value:e.validateMessage,callback:function(t){e.validateMessage=t},expression:"validateMessage"}})],1),n("el-button",{attrs:{type:"primary"}},[e._v("添加群组")]),n("el-button",{attrs:{type:"primary"}},[e._v("修改群组")])],1)],1)],1)],1)},staticRenderFns:[]},i=function(e){n("0uKv")},s=n("VU/8")(o.a,r,!1,i,"data-v-8e7f39a2",null);t.default=s.exports},a6zM:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_config_language__=__webpack_require__("OjNM"),__WEBPACK_IMPORTED_MODULE_1__easemobWebSDK__=__webpack_require__("Gql3"),__WEBPACK_IMPORTED_MODULE_2_common_message__=__webpack_require__("u4eY"),__WEBPACK_IMPORTED_MODULE_3_js_cookie__=__webpack_require__("lbHh"),__WEBPACK_IMPORTED_MODULE_3_js_cookie___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_js_cookie__);__webpack_exports__.a={data:function(){return{lan:__WEBPACK_IMPORTED_MODULE_0_config_language__.a,visible:!1,user:{userName:"hqj",pass:"hqj",nickName:"hqj"},isToken:!1,roster:[],memberAccount:"",validateMessage:"加个好友呗!我是...",groups:[],groupMembers:[]}},mounted:function(){this.$msgbox({title:"对方收到请求加为好友",confirmButtonText:"同意",cancelButtonText:"拒绝"})},components:{},methods:{show:function(){this.visible=!0},onRegister:function(){var e={username:this.user.userName,password:this.user.pass,nickname:this.user.nickName,appKey:window.WebIM.config.appkey,success:function(){__WEBPACK_IMPORTED_MODULE_2_common_message__.a.success(__WEBPACK_IMPORTED_MODULE_0_config_language__.a.signUpSuccessfully)},error:function(e){__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error("注册失败：ErrType["+e.type+"],原因"+e.data)},apiUrl:window.WebIM.config.apiURL};window.conn.registerUser(e)},onLogin:function(){var e=this,t="webim_"+btoa(this.user.userName),n=__WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.get(t),o={};o=this.isToken?{apiUrl:window.WebIM.config.apiURL,user:this.user.userName,accessToken:n,appKey:window.WebIM.config.appkey,success:function(e){__WEBPACK_IMPORTED_MODULE_2_common_message__.a.success("登录成功,access_token:"+n)},error:function(e){alert(e)}}:{apiUrl:window.WebIM.config.apiURL,user:this.user.userName,pwd:this.user.pass,appKey:window.WebIM.config.appkey,success:function(t){var n=btoa(e.user.userName),o=t.access_token;alert("登录成功,access_token:"+o),__WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set("webim_"+n,t)},error:function(e){alert(e)}},window.conn.open(o)},onLogout:function(){window.conn.close(),this.roster=[],this.groups=[],this.groupMembers=[]},getFriendList:function(){var e=this;this.roster=[],window.conn.getRoster({success:function(t){for(var n=0,o=t.length;n<o;n++){var r=t[n];"both"!==r.subscription&&"to"!==r.subscription||e.roster.push(r)}},error:function(e){alert("获取好友失败"),console.log(e)}})},getFriend:function(e){e.name?alert(e.name):e.member&&alert(e.member)},myChatTest:function(e){this.sendPrivateText(e)},sendPrivateText:function(e){var t=window.conn.getUniqueId(),n=new window.WebIM.message("txt",t);n.set({msg:"你好，有空聊一下么",to:e.jid,roomType:!1,success:function(e,t){console.log("send private text Success"),__WEBPACK_IMPORTED_MODULE_2_common_message__.a.success("send private text Success")},fail:function(e){console.log("Send private text error"),__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error("Send private text error")}}),n.body.chatType="singleChat",window.conn.send(n.body)},sendPrivateAudio:function(e){var t=window.conn.getUniqueId(),n=new window.WebIM.message("audio",t),o=window.WebIM.utils.getFileUrl(null);if(o.filetype.toLowerCase()in{mp3:!0,amr:!0,wmv:!0}){var r={apiUrl:window.WebIM.config.apiURL,file:o,to:e.name,roomType:!1,chatType:"singleChat",onFileUploadError:function(){console.log("onFileUploadError")},onFileUploadComplete:function(){console.log("onFileUploadComplete")},success:function(){console.log("Success")},flashUpload:window.WebIM.flashUpload};n.set(r),window.conn.send(n.body)}},sendPrivateVideo:function(e){var t=window.conn.getUniqueId(),n=new WebIM.message("video",t),o=window.WebIM.utils.getFileUrl(null);if(o.filetype.toLowerCase()in{mp4:!0,wmv:!0,avi:!0,rmvb:!0,mkv:!0}){var r={apiUrl:window.WebIM.config.apiURL,file:o,to:e.name,roomType:!1,chatType:"singleChat",onFileUploadError:function(){console.log("onFileUploadError")},onFileUploadComplete:function(){console.log("onFileUploadComplete")},success:function(){console.log("Success")},flashUpload:windwo.WebIM.flashUpload};n.set(r),window.conn.send(n.body)}},addMember:function(){this.memberAccount?this.memberAccount!==this.user.userName?1!==this.roster[this.memberAccount]?window.WebIM.config.isWindowSDK?window.WebIM.doQuery('{"type":"addMember","to":"'+this.memberAccount+'","message":"'+this.user.userName+this.lan.request+'"}',function(e){__WEBPACK_IMPORTED_MODULE_2_common_message__.a.success(this.lan.contact_added)},function(e,t){__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error("addMember:"+e+" "+t)}):(window.conn.subscribe({to:this.memberAccount,message:this.validateMessage}),__WEBPACK_IMPORTED_MODULE_2_common_message__.a.success("你的好友添加请求已经发送成功，正在等待对方确认。")):__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error(this.memberAccount+" "+this.lan.addFriendRepeat):__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error(this.lan.addFriendSelfInvalid):__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error(this.lan.username+this.lan.notEmpty)},getGroupList:function getGroupList(){var _this3=this;this.groups=[],window.WebIM.config.isWindowSDK?window.WebIM.doQuery('{"type":"getGroupList"}',function success(str){var rooms=[];str&&(rooms=eval("("+str+")")),console.log(rooms),__WEBPACK_IMPORTED_MODULE_2_common_message__.a.success(rooms)},function(e,t){__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error("getGroupList:"+e+" "+t)}):window.conn.getGroup({success:function(e){console.log("Response: ",e),_this3.groups=e.data},error:function(e){console.log(e),__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error(e)}})},getGroupMember:function(e){var t=this;this.groupMembers=[];window.conn.listGroupMember({pageNum:1,pageSize:1e3,groupId:e.groupid,success:function(e){var n=e.data;t.groupMembers=n.filter(function(e){return e.member})},error:function(e){console.log(e),__WEBPACK_IMPORTED_MODULE_2_common_message__.a.error(e)}})},getGroupBlackList:function(e){var t={roomId:e.groupid,success:function(e){console.log("Get group black list: ",e)},error:function(){console.log("Get group black list error.")}};conn.getGroupBlacklist(t)}}}},bBGs:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("Ff/Y"),n("PIk1"))}(0,function(e){return function(){var t=e,n=t.lib,o=n.Base,r=n.WordArray,i=t.algo,s=i.SHA1,a=i.HMAC,c=i.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,o=a.create(n.hasher,e),i=r.create(),s=r.create([1]),c=i.words,u=s.words,l=n.keySize,p=n.iterations;c.length<l;){var d=o.update(t).finalize(s);o.reset();for(var f=d.words,h=f.length,m=d,_=1;_<p;_++){m=o.finalize(m),o.reset();for(var g=m.words,y=0;y<h;y++)f[y]^=g[y]}i.concat(d),u[0]++}return i.sigBytes=4*l,i}});t.PBKDF2=function(e,t,n){return c.create(n).compute(e,t)}}(),e.PBKDF2})},drMw:function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(){function t(e){return e<<8&4278255360|e>>>8&16711935}var n=e,o=n.lib.WordArray,r=n.enc;r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r+=2){var i=t[r>>>2]>>>16-r%4*8&65535;o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return o.create(n,2*t)}};r.Utf16LE={stringify:function(e){for(var n=e.words,o=e.sigBytes,r=[],i=0;i<o;i+=2){var s=t(n[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=t(e.charCodeAt(i)<<16-i%2*16);return o.create(r,2*n)}}}(),e.enc.Utf16})},fGru:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("wj1U"))}(0,function(e){e.lib.Cipher||function(t){var n=e,o=n.lib,r=o.Base,i=o.WordArray,s=o.BufferedBlockAlgorithm,a=n.enc,c=(a.Utf8,a.Base64),u=n.algo.EvpKDF,l=o.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:g}return function(t){return{encrypt:function(n,o,r){return e(o).encrypt(t,n,o,r)},decrypt:function(n,o,r){return e(o).decrypt(t,n,o,r)}}}}()}),p=(o.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),d=o.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=p.CBC=function(){function e(e,n,o){var r=this._iv;if(r){var i=r;this._iv=t}else i=this._prevBlock;for(var s=0;s<o;s++)e[n+s]^=i[s]}var n=d.extend();return n.Encryptor=n.extend({processBlock:function(t,n){var o=this._cipher,r=o.blockSize;e.call(this,t,n,r),o.encryptBlock(t,n),this._prevBlock=t.slice(n,n+r)}}),n.Decryptor=n.extend({processBlock:function(t,n){var o=this._cipher,r=o.blockSize,i=t.slice(n,n+r);o.decryptBlock(t,n),e.call(this,t,n,r),this._prevBlock=i}}),n}(),h=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,o=n-e.sigBytes%n,r=o<<24|o<<16|o<<8|o,s=[],a=0;a<o;a+=4)s.push(r);var c=i.create(s,o);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(o.BlockCipher=l.extend({cfg:l.cfg.extend({mode:f,padding:h}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var o=n.createEncryptor;else{o=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==o?this._mode.init(this,t&&t.words):(this._mode=o.call(n,this,t&&t.words),this._mode.__creator=o)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),o.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),_=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var o=i.create([1398893684,1701076831]).concat(n).concat(t);else o=t;return o.toString(c)},parse:function(e){var t=c.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var o=i.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return m.create({ciphertext:t,salt:o})}},g=o.SerializableCipher=r.extend({cfg:r.extend({format:_}),encrypt:function(e,t,n,o){o=this.cfg.extend(o);var r=e.createEncryptor(n,o),i=r.finalize(t),s=r.cfg;return m.create({ciphertext:i,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,n,o){o=this.cfg.extend(o),t=this._parse(t,o.format);return e.createDecryptor(n,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(n.kdf={}).OpenSSL={execute:function(e,t,n,o){o||(o=i.random(8));var r=u.create({keySize:t+n}).compute(e,o),s=i.create(r.words.slice(t),4*n);return r.sigBytes=4*t,m.create({key:r,iv:s,salt:o})}},v=o.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(e,t,n,o){var r=(o=this.cfg.extend(o)).kdf.execute(n,e.keySize,e.ivSize);o.iv=r.iv;var i=g.encrypt.call(this,e,t,r.key,o);return i.mixIn(r),i},decrypt:function(e,t,n,o){o=this.cfg.extend(o),t=this._parse(t,o.format);var r=o.kdf.execute(n,e.keySize,e.ivSize,t.salt);o.iv=r.iv;return g.decrypt.call(this,e,t,r.key,o)}})}()})},gkUh:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("uFh6"),n("gykg"),n("wj1U"),n("fGru"))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(n=0;n<8;n++){var o=e[n]+t[n],r=65535&o,a=o>>>16,c=((r*r>>>17)+r*a>>>15)+a*a,u=((4294901760&o)*o|0)+((65535&o)*o|0);s[n]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}var n=e,o=n.lib.StreamCipher,r=[],i=[],s=[],a=n.algo.Rabbit=o.extend({_doReset:function(){for(var e=this._key.words,n=this.cfg.iv,o=0;o<4;o++)e[o]=16711935&(e[o]<<8|e[o]>>>24)|4278255360&(e[o]<<24|e[o]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(o=0;o<4;o++)t.call(this);for(o=0;o<8;o++)i[o]^=r[o+4&7];if(n){var s=n.words,a=s[0],c=s[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=u>>>16|4294901760&l,d=l<<16|65535&u;i[0]^=u,i[1]^=p,i[2]^=l,i[3]^=d,i[4]^=u,i[5]^=p,i[6]^=l,i[7]^=d;for(o=0;o<4;o++)t.call(this)}},_doProcessBlock:function(e,n){var o=this._X;t.call(this),r[0]=o[0]^o[5]>>>16^o[3]<<16,r[1]=o[2]^o[7]>>>16^o[5]<<16,r[2]=o[4]^o[1]>>>16^o[7]<<16,r[3]=o[6]^o[3]>>>16^o[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[n+i]^=r[i]},blockSize:4,ivSize:2});n.Rabbit=o._createHelper(a)}(),e.Rabbit})},gykg:function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(t){function n(e,t,n,o,r,i,s){var a=e+(t&n|~t&o)+r+s;return(a<<i|a>>>32-i)+t}function o(e,t,n,o,r,i,s){var a=e+(t&o|n&~o)+r+s;return(a<<i|a>>>32-i)+t}function r(e,t,n,o,r,i,s){var a=e+(t^n^o)+r+s;return(a<<i|a>>>32-i)+t}function i(e,t,n,o,r,i,s){var a=e+(n^(t|~o))+r+s;return(a<<i|a>>>32-i)+t}var s=e,a=s.lib,c=a.WordArray,u=a.Hasher,l=s.algo,p=[];!function(){for(var e=0;e<64;e++)p[e]=4294967296*t.abs(t.sin(e+1))|0}();var d=l.MD5=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var s=0;s<16;s++){var a=t+s,c=e[a];e[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var u=this._hash.words,l=e[t+0],d=e[t+1],f=e[t+2],h=e[t+3],m=e[t+4],_=e[t+5],g=e[t+6],y=e[t+7],v=e[t+8],E=e[t+9],b=e[t+10],I=e[t+11],O=e[t+12],N=e[t+13],T=e[t+14],C=e[t+15],M=u[0],x=u[1],R=u[2],S=u[3];x=i(x=i(x=i(x=i(x=r(x=r(x=r(x=r(x=o(x=o(x=o(x=o(x=n(x=n(x=n(x=n(x,R=n(R,S=n(S,M=n(M,x,R,S,l,7,p[0]),x,R,d,12,p[1]),M,x,f,17,p[2]),S,M,h,22,p[3]),R=n(R,S=n(S,M=n(M,x,R,S,m,7,p[4]),x,R,_,12,p[5]),M,x,g,17,p[6]),S,M,y,22,p[7]),R=n(R,S=n(S,M=n(M,x,R,S,v,7,p[8]),x,R,E,12,p[9]),M,x,b,17,p[10]),S,M,I,22,p[11]),R=n(R,S=n(S,M=n(M,x,R,S,O,7,p[12]),x,R,N,12,p[13]),M,x,T,17,p[14]),S,M,C,22,p[15]),R=o(R,S=o(S,M=o(M,x,R,S,d,5,p[16]),x,R,g,9,p[17]),M,x,I,14,p[18]),S,M,l,20,p[19]),R=o(R,S=o(S,M=o(M,x,R,S,_,5,p[20]),x,R,b,9,p[21]),M,x,C,14,p[22]),S,M,m,20,p[23]),R=o(R,S=o(S,M=o(M,x,R,S,E,5,p[24]),x,R,T,9,p[25]),M,x,h,14,p[26]),S,M,v,20,p[27]),R=o(R,S=o(S,M=o(M,x,R,S,N,5,p[28]),x,R,f,9,p[29]),M,x,y,14,p[30]),S,M,O,20,p[31]),R=r(R,S=r(S,M=r(M,x,R,S,_,4,p[32]),x,R,v,11,p[33]),M,x,I,16,p[34]),S,M,T,23,p[35]),R=r(R,S=r(S,M=r(M,x,R,S,d,4,p[36]),x,R,m,11,p[37]),M,x,y,16,p[38]),S,M,b,23,p[39]),R=r(R,S=r(S,M=r(M,x,R,S,N,4,p[40]),x,R,l,11,p[41]),M,x,h,16,p[42]),S,M,g,23,p[43]),R=r(R,S=r(S,M=r(M,x,R,S,E,4,p[44]),x,R,O,11,p[45]),M,x,C,16,p[46]),S,M,f,23,p[47]),R=i(R,S=i(S,M=i(M,x,R,S,l,6,p[48]),x,R,y,10,p[49]),M,x,T,15,p[50]),S,M,_,21,p[51]),R=i(R,S=i(S,M=i(M,x,R,S,O,6,p[52]),x,R,h,10,p[53]),M,x,b,15,p[54]),S,M,d,21,p[55]),R=i(R,S=i(S,M=i(M,x,R,S,v,6,p[56]),x,R,C,10,p[57]),M,x,g,15,p[58]),S,M,N,21,p[59]),R=i(R,S=i(S,M=i(M,x,R,S,m,6,p[60]),x,R,I,10,p[61]),M,x,f,15,p[62]),S,M,E,21,p[63]),u[0]=u[0]+M|0,u[1]=u[1]+x|0,u[2]=u[2]+R|0,u[3]=u[3]+S|0},_doFinalize:function(){var e=this._data,n=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var i=t.floor(o/4294967296),s=o;n[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}});s.MD5=u._createHelper(d),s.HmacMD5=u._createHmacHelper(d)}(Math),e.MD5})},hjGT:function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(t){function n(e,t,n){return e^t^n}function o(e,t,n){return e&t|~e&n}function r(e,t,n){return(e|~t)^n}function i(e,t,n){return e&n|t&~n}function s(e,t,n){return e^(t|~n)}function a(e,t){return e<<t|e>>>32-t}var c=e,u=c.lib,l=u.WordArray,p=u.Hasher,d=c.algo,f=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=l.create([0,1518500249,1859775393,2400959708,2840853838]),y=l.create([1352829926,1548603684,1836072691,2053994217,0]),v=d.RIPEMD160=p.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var c=0;c<16;c++){var u=t+c,l=e[u];e[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var p,d,v,E,b,I,O,N,T,C,M=this._hash.words,x=g.words,R=y.words,S=f.words,w=h.words,B=m.words,A=_.words;I=p=M[0],O=d=M[1],N=v=M[2],T=E=M[3],C=b=M[4];var k;for(c=0;c<80;c+=1)k=p+e[t+S[c]]|0,k+=c<16?n(d,v,E)+x[0]:c<32?o(d,v,E)+x[1]:c<48?r(d,v,E)+x[2]:c<64?i(d,v,E)+x[3]:s(d,v,E)+x[4],k=(k=a(k|=0,B[c]))+b|0,p=b,b=E,E=a(v,10),v=d,d=k,k=I+e[t+w[c]]|0,k+=c<16?s(O,N,T)+R[0]:c<32?i(O,N,T)+R[1]:c<48?r(O,N,T)+R[2]:c<64?o(O,N,T)+R[3]:n(O,N,T)+R[4],k=(k=a(k|=0,A[c]))+C|0,I=C,C=T,T=a(N,10),N=O,O=k;k=M[1]+v+T|0,M[1]=M[2]+E+C|0,M[2]=M[3]+b+I|0,M[3]=M[4]+p+O|0,M[4]=M[0]+d+N|0,M[0]=k},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,i=r.words,s=0;s<5;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return r},clone:function(){var e=p.clone.call(this);return e._hash=this._hash.clone(),e}});c.RIPEMD160=p._createHelper(v),c.HmacRIPEMD160=p._createHmacHelper(v)}(Math),e.RIPEMD160})},kVWZ:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,r=this._iv,i=this._counter;r&&(i=this._counter=r.slice(0),this._iv=void 0);var s=i.slice(0);n.encryptBlock(s,0),i[o-1]=i[o-1]+1|0;for(var a=0;a<o;a++)e[t+a]^=s[a]}});return t.Decryptor=n,t}(),e.mode.CTR})},mP1F:function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(t){var n=e,o=n.lib,r=o.WordArray,i=o.Hasher,s=n.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),o=2;o<=n;o++)if(!(e%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,r=0;r<64;)e(o)&&(r<8&&(a[r]=n(t.pow(o,.5))),c[r]=n(t.pow(o,1/3)),r++),o++}();var u=[],l=s.SHA256=i.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],i=n[2],s=n[3],a=n[4],l=n[5],p=n[6],d=n[7],f=0;f<64;f++){if(f<16)u[f]=0|e[t+f];else{var h=u[f-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,_=u[f-2],g=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;u[f]=m+u[f-7]+g+u[f-16]}var y=o&r^o&i^r&i,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),E=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&p)+c[f]+u[f];d=p,p=l,l=a,a=s+E|0,s=i,i=r,r=o,o=E+(v+y)|0}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+p|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(o/4294967296),n[15+(r+64>>>9<<4)]=o,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=i._createHelper(l),n.HmacSHA256=i._createHmacHelper(l)}(Math),e.SHA256})},qKCg:function(e,t){!function(){function e(e){this.array=void 0===e?[]:new Array(e)}e.prototype={length:function(){return this.array.length},at:function(e){return this.array[e]},set:function(e,t){this.array[e]=t},push:function(e){return this.array.push(e)},slice:function(e,t){return this.array=this.array.slice(e,t)},concat:function(e){this.array=this.array.concat(e)},remove:function(e,t){t=void 0===t?1:t,this.array.splice(e,t)},join:function(e){return this.array.join(e)},clear:function(){this.array.length=0}};var n=function(){this._array_h=new e};n.prototype={_index:0,push:function(e){this._array_h.push(e)},pop:function(){var e=null;return this._array_h.length()&&(e=this._array_h.at(this._index),2*++this._index>=this._array_h.length()&&(this._array_h.slice(this._index),this._index=0)),e},head:function(){var e=null,t=this._array_h.length();return t&&(e=this._array_h.at(t-1)),e},tail:function(){var e=null;return this._array_h.length()&&(e=this._array_h.at(this._index)),e},length:function(){return this._array_h.length()-this._index},empty:function(){return 0===this._array_h.length()},clear:function(){this._array_h.clear()}},t.Queue=n}()},rdLu:function(e,t,n){var o,r;(function(){function n(e){return function(t,n,o,r){n=O(n,r,4);var i=!S(t)&&I.keys(t),s=(i||t).length,a=e>0?0:s-1;return arguments.length<3&&(o=t[i?i[a]:a],a+=e),function(t,n,o,r,i,s){for(;i>=0&&i<s;i+=e){var a=r?r[i]:i;o=n(o,t[a],a,t)}return o}(t,n,o,i,a,s)}}function i(e){return function(t,n,o){n=N(n,o);for(var r=R(t),i=e>0?0:r-1;i>=0&&i<r;i+=e)if(n(t[i],i,t))return i;return-1}}function s(e,t,n){return function(o,r,i){var s=0,a=R(o);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(n&&i&&a)return i=n(o,r),o[i]===r?i:-1;if(r!=r)return(i=t(h.call(o,s,a),I.isNaN))>=0?i+s:-1;for(i=e>0?s:a-1;i>=0&&i<a;i+=e)if(o[i]===r)return i;return-1}}function a(e,t){var n=j.length,o=e.constructor,r=I.isFunction(o)&&o.prototype||p,i="constructor";for(I.has(e,i)&&!I.contains(t,i)&&t.push(i);n--;)(i=j[n])in e&&e[i]!==r[i]&&!I.contains(t,i)&&t.push(i)}var c=this,u=c._,l=Array.prototype,p=Object.prototype,d=Function.prototype,f=l.push,h=l.slice,m=p.toString,_=p.hasOwnProperty,g=Array.isArray,y=Object.keys,v=d.bind,E=Object.create,b=function(){},I=function(e){return e instanceof I?e:this instanceof I?void(this._wrapped=e):new I(e)};void 0!==e&&e.exports&&(t=e.exports=I),t._=I,I.VERSION="1.8.3";var O=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)};case 4:return function(n,o,r,i){return e.call(t,n,o,r,i)}}return function(){return e.apply(t,arguments)}},N=function(e,t,n){return null==e?I.identity:I.isFunction(e)?O(e,t,n):I.isObject(e)?I.matcher(e):I.property(e)};I.iteratee=function(e,t){return N(e,t,1/0)};var T=function(e,t){return function(n){var o=arguments.length;if(o<2||null==n)return n;for(var r=1;r<o;r++)for(var i=arguments[r],s=e(i),a=s.length,c=0;c<a;c++){var u=s[c];t&&void 0!==n[u]||(n[u]=i[u])}return n}},C=function(e){if(!I.isObject(e))return{};if(E)return E(e);b.prototype=e;var t=new b;return b.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,R=M("length"),S=function(e){var t=R(e);return"number"==typeof t&&t>=0&&t<=x};I.each=I.forEach=function(e,t,n){t=O(t,n);var o,r;if(S(e))for(o=0,r=e.length;o<r;o++)t(e[o],o,e);else{var i=I.keys(e);for(o=0,r=i.length;o<r;o++)t(e[i[o]],i[o],e)}return e},I.map=I.collect=function(e,t,n){t=N(t,n);for(var o=!S(e)&&I.keys(e),r=(o||e).length,i=Array(r),s=0;s<r;s++){var a=o?o[s]:s;i[s]=t(e[a],a,e)}return i},I.reduce=I.foldl=I.inject=n(1),I.reduceRight=I.foldr=n(-1),I.find=I.detect=function(e,t,n){var o;if(void 0!==(o=S(e)?I.findIndex(e,t,n):I.findKey(e,t,n))&&-1!==o)return e[o]},I.filter=I.select=function(e,t,n){var o=[];return t=N(t,n),I.each(e,function(e,n,r){t(e,n,r)&&o.push(e)}),o},I.reject=function(e,t,n){return I.filter(e,I.negate(N(t)),n)},I.every=I.all=function(e,t,n){t=N(t,n);for(var o=!S(e)&&I.keys(e),r=(o||e).length,i=0;i<r;i++){var s=o?o[i]:i;if(!t(e[s],s,e))return!1}return!0},I.some=I.any=function(e,t,n){t=N(t,n);for(var o=!S(e)&&I.keys(e),r=(o||e).length,i=0;i<r;i++){var s=o?o[i]:i;if(t(e[s],s,e))return!0}return!1},I.contains=I.includes=I.include=function(e,t,n,o){return S(e)||(e=I.values(e)),("number"!=typeof n||o)&&(n=0),I.indexOf(e,t,n)>=0},I.invoke=function(e,t){var n=h.call(arguments,2),o=I.isFunction(t);return I.map(e,function(e){var r=o?t:e[t];return null==r?r:r.apply(e,n)})},I.pluck=function(e,t){return I.map(e,I.property(t))},I.where=function(e,t){return I.filter(e,I.matcher(t))},I.findWhere=function(e,t){return I.find(e,I.matcher(t))},I.max=function(e,t,n){var o,r,i=-1/0,s=-1/0;if(null==t&&null!=e)for(var a=0,c=(e=S(e)?e:I.values(e)).length;a<c;a++)(o=e[a])>i&&(i=o);else t=N(t,n),I.each(e,function(e,n,o){((r=t(e,n,o))>s||r===-1/0&&i===-1/0)&&(i=e,s=r)});return i},I.min=function(e,t,n){var o,r,i=1/0,s=1/0;if(null==t&&null!=e)for(var a=0,c=(e=S(e)?e:I.values(e)).length;a<c;a++)(o=e[a])<i&&(i=o);else t=N(t,n),I.each(e,function(e,n,o){((r=t(e,n,o))<s||r===1/0&&i===1/0)&&(i=e,s=r)});return i},I.shuffle=function(e){for(var t,n=S(e)?e:I.values(e),o=n.length,r=Array(o),i=0;i<o;i++)(t=I.random(0,i))!==i&&(r[i]=r[t]),r[t]=n[i];return r},I.sample=function(e,t,n){return null==t||n?(S(e)||(e=I.values(e)),e[I.random(e.length-1)]):I.shuffle(e).slice(0,Math.max(0,t))},I.sortBy=function(e,t,n){return t=N(t,n),I.pluck(I.map(e,function(e,n,o){return{value:e,index:n,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,o=t.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(n<o||void 0===o)return-1}return e.index-t.index}),"value")};var w=function(e){return function(t,n,o){var r={};return n=N(n,o),I.each(t,function(o,i){var s=n(o,i,t);e(r,o,s)}),r}};I.groupBy=w(function(e,t,n){I.has(e,n)?e[n].push(t):e[n]=[t]}),I.indexBy=w(function(e,t,n){e[n]=t}),I.countBy=w(function(e,t,n){I.has(e,n)?e[n]++:e[n]=1}),I.toArray=function(e){return e?I.isArray(e)?h.call(e):S(e)?I.map(e,I.identity):I.values(e):[]},I.size=function(e){return null==e?0:S(e)?e.length:I.keys(e).length},I.partition=function(e,t,n){t=N(t,n);var o=[],r=[];return I.each(e,function(e,n,i){(t(e,n,i)?o:r).push(e)}),[o,r]},I.first=I.head=I.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:I.initial(e,e.length-t)},I.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},I.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:I.rest(e,Math.max(0,e.length-t))},I.rest=I.tail=I.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},I.compact=function(e){return I.filter(e,I.identity)};var B=function(e,t,n,o){for(var r=[],i=0,s=o||0,a=R(e);s<a;s++){var c=e[s];if(S(c)&&(I.isArray(c)||I.isArguments(c))){t||(c=B(c,t,n));var u=0,l=c.length;for(r.length+=l;u<l;)r[i++]=c[u++]}else n||(r[i++]=c)}return r};I.flatten=function(e,t){return B(e,t,!1)},I.without=function(e){return I.difference(e,h.call(arguments,1))},I.uniq=I.unique=function(e,t,n,o){I.isBoolean(t)||(o=n,n=t,t=!1),null!=n&&(n=N(n,o));for(var r=[],i=[],s=0,a=R(e);s<a;s++){var c=e[s],u=n?n(c,s,e):c;t?(s&&i===u||r.push(c),i=u):n?I.contains(i,u)||(i.push(u),r.push(c)):I.contains(r,c)||r.push(c)}return r},I.union=function(){return I.uniq(B(arguments,!0,!0))},I.intersection=function(e){for(var t=[],n=arguments.length,o=0,r=R(e);o<r;o++){var i=e[o];if(!I.contains(t,i)){for(var s=1;s<n&&I.contains(arguments[s],i);s++);s===n&&t.push(i)}}return t},I.difference=function(e){var t=B(arguments,!0,!0,1);return I.filter(e,function(e){return!I.contains(t,e)})},I.zip=function(){return I.unzip(arguments)},I.unzip=function(e){for(var t=e&&I.max(e,R).length||0,n=Array(t),o=0;o<t;o++)n[o]=I.pluck(e,o);return n},I.object=function(e,t){for(var n={},o=0,r=R(e);o<r;o++)t?n[e[o]]=t[o]:n[e[o][0]]=e[o][1];return n},I.findIndex=i(1),I.findLastIndex=i(-1),I.sortedIndex=function(e,t,n,o){for(var r=(n=N(n,o,1))(t),i=0,s=R(e);i<s;){var a=Math.floor((i+s)/2);n(e[a])<r?i=a+1:s=a}return i},I.indexOf=s(1,I.findIndex,I.sortedIndex),I.lastIndexOf=s(-1,I.findLastIndex),I.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var o=Math.max(Math.ceil((t-e)/n),0),r=Array(o),i=0;i<o;i++,e+=n)r[i]=e;return r};var A=function(e,t,n,o,r){if(!(o instanceof t))return e.apply(n,r);var i=C(e.prototype),s=e.apply(i,r);return I.isObject(s)?s:i};I.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,h.call(arguments,1));if(!I.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),o=function(){return A(e,o,t,this,n.concat(h.call(arguments)))};return o},I.partial=function(e){var t=h.call(arguments,1),n=function(){for(var o=0,r=t.length,i=Array(r),s=0;s<r;s++)i[s]=t[s]===I?arguments[o++]:t[s];for(;o<arguments.length;)i.push(arguments[o++]);return A(e,n,this,this,i)};return n},I.bindAll=function(e){var t,n,o=arguments.length;if(o<=1)throw new Error("bindAll must be passed function names");for(t=1;t<o;t++)e[n=arguments[t]]=I.bind(e[n],e);return e},I.memoize=function(e,t){var n=function(o){var r=n.cache,i=""+(t?t.apply(this,arguments):o);return I.has(r,i)||(r[i]=e.apply(this,arguments)),r[i]};return n.cache={},n},I.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},I.defer=I.partial(I.delay,I,1),I.throttle=function(e,t,n){var o,r,i,s=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:I.now(),s=null,i=e.apply(o,r),s||(o=r=null)};return function(){var u=I.now();a||!1!==n.leading||(a=u);var l=t-(u-a);return o=this,r=arguments,l<=0||l>t?(s&&(clearTimeout(s),s=null),a=u,i=e.apply(o,r),s||(o=r=null)):s||!1===n.trailing||(s=setTimeout(c,l)),i}},I.debounce=function(e,t,n){var o,r,i,s,a,c=function(){var u=I.now()-s;u<t&&u>=0?o=setTimeout(c,t-u):(o=null,n||(a=e.apply(i,r),o||(i=r=null)))};return function(){i=this,r=arguments,s=I.now();var u=n&&!o;return o||(o=setTimeout(c,t)),u&&(a=e.apply(i,r),i=r=null),a}},I.wrap=function(e,t){return I.partial(t,e)},I.negate=function(e){return function(){return!e.apply(this,arguments)}},I.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,o=e[t].apply(this,arguments);n--;)o=e[n].call(this,o);return o}},I.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},I.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},I.once=I.partial(I.before,2);var k=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];I.keys=function(e){if(!I.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)I.has(e,n)&&t.push(n);return k&&a(e,t),t},I.allKeys=function(e){if(!I.isObject(e))return[];var t=[];for(var n in e)t.push(n);return k&&a(e,t),t},I.values=function(e){for(var t=I.keys(e),n=t.length,o=Array(n),r=0;r<n;r++)o[r]=e[t[r]];return o},I.mapObject=function(e,t,n){t=N(t,n);for(var o,r=I.keys(e),i=r.length,s={},a=0;a<i;a++)s[o=r[a]]=t(e[o],o,e);return s},I.pairs=function(e){for(var t=I.keys(e),n=t.length,o=Array(n),r=0;r<n;r++)o[r]=[t[r],e[t[r]]];return o},I.invert=function(e){for(var t={},n=I.keys(e),o=0,r=n.length;o<r;o++)t[e[n[o]]]=n[o];return t},I.functions=I.methods=function(e){var t=[];for(var n in e)I.isFunction(e[n])&&t.push(n);return t.sort()},I.extend=T(I.allKeys),I.extendOwn=I.assign=T(I.keys),I.findKey=function(e,t,n){t=N(t,n);for(var o,r=I.keys(e),i=0,s=r.length;i<s;i++)if(o=r[i],t(e[o],o,e))return o},I.pick=function(e,t,n){var o,r,i={},s=e;if(null==s)return i;I.isFunction(t)?(r=I.allKeys(s),o=O(t,n)):(r=B(arguments,!1,!1,1),o=function(e,t,n){return t in n},s=Object(s));for(var a=0,c=r.length;a<c;a++){var u=r[a],l=s[u];o(l,u,s)&&(i[u]=l)}return i},I.omit=function(e,t,n){if(I.isFunction(t))t=I.negate(t);else{var o=I.map(B(arguments,!1,!1,1),String);t=function(e,t){return!I.contains(o,t)}}return I.pick(e,t,n)},I.defaults=T(I.allKeys,!0),I.create=function(e,t){var n=C(e);return t&&I.extendOwn(n,t),n},I.clone=function(e){return I.isObject(e)?I.isArray(e)?e.slice():I.extend({},e):e},I.tap=function(e,t){return t(e),e},I.isMatch=function(e,t){var n=I.keys(t),o=n.length;if(null==e)return!o;for(var r=Object(e),i=0;i<o;i++){var s=n[i];if(t[s]!==r[s]||!(s in r))return!1}return!0};var F=function(e,t,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof I&&(e=e._wrapped),t instanceof I&&(t=t._wrapped);var r=m.call(e);if(r!==m.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var i="[object Array]"===r;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(I.isFunction(s)&&s instanceof s&&I.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],o=o||[];for(var c=n.length;c--;)if(n[c]===e)return o[c]===t;if(n.push(e),o.push(t),i){if((c=e.length)!==t.length)return!1;for(;c--;)if(!F(e[c],t[c],n,o))return!1}else{var u,l=I.keys(e);if(c=l.length,I.keys(t).length!==c)return!1;for(;c--;)if(u=l[c],!I.has(t,u)||!F(e[u],t[u],n,o))return!1}return n.pop(),o.pop(),!0};I.isEqual=function(e,t){return F(e,t)},I.isEmpty=function(e){return null==e||(S(e)&&(I.isArray(e)||I.isString(e)||I.isArguments(e))?0===e.length:0===I.keys(e).length)},I.isElement=function(e){return!(!e||1!==e.nodeType)},I.isArray=g||function(e){return"[object Array]"===m.call(e)},I.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},I.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){I["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),I.isArguments(arguments)||(I.isArguments=function(e){return I.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(I.isFunction=function(e){return"function"==typeof e||!1}),I.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},I.isNaN=function(e){return I.isNumber(e)&&e!==+e},I.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===m.call(e)},I.isNull=function(e){return null===e},I.isUndefined=function(e){return void 0===e},I.has=function(e,t){return null!=e&&_.call(e,t)},I.noConflict=function(){return c._=u,this},I.identity=function(e){return e},I.constant=function(e){return function(){return e}},I.noop=function(){},I.property=M,I.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},I.matcher=I.matches=function(e){return e=I.extendOwn({},e),function(t){return I.isMatch(t,e)}},I.times=function(e,t,n){var o=Array(Math.max(0,e));t=O(t,n,1);for(var r=0;r<e;r++)o[r]=t(r);return o},I.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},I.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=I.invert(U),W=function(e){var t=function(t){return e[t]},n="(?:"+I.keys(e).join("|")+")",o=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(r,t):e}};I.escape=W(U),I.unescape=W(D),I.result=function(e,t,n){var o=null==e?void 0:e[t];return void 0===o&&(o=n),I.isFunction(o)?o.call(e):o};var G=0;I.uniqueId=function(e){var t=++G+"";return e?e+t:t},I.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+P[e]};I.template=function(e,t,n){!t&&n&&(t=n),t=I.defaults({},t,I.templateSettings);var o=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g"),r=0,i="__p+='";e.replace(o,function(t,n,o,s,a){return i+=e.slice(r,a).replace(H,q),r=a+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":o?i+="'+\n((__t=("+o+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var s=new Function(t.variable||"obj","_",i)}catch(e){throw e.source=i,e}var a=function(e){return s.call(this,e,I)},c=t.variable||"obj";return a.source="function("+c+"){\n"+i+"}",a},I.chain=function(e){var t=I(e);return t._chain=!0,t};var z=function(e,t){return e._chain?I(t).chain():t};I.mixin=function(e){I.each(I.functions(e),function(t){var n=I[t]=e[t];I.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),z(this,n.apply(I,e))}})},I.mixin(I),I.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];I.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],z(this,n)}}),I.each(["concat","join","slice"],function(e){var t=l[e];I.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),I.prototype.value=function(){return this._wrapped},I.prototype.valueOf=I.prototype.toJSON=I.prototype.value,I.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return I}.apply(t,o=[]))||(e.exports=r)}).call(this)},s9og:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("fGru"))}(0,function(e){return e.mode.CTRGladman=function(){function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,o=255&e;255===t?(t=0,255===n?(n=0,255===o?o=0:++o):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=o}else e+=1<<24;return e}var n=e.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(e,n){var o=this._cipher,r=o.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);o.encryptBlock(a,0);for(var c=0;c<r;c++)e[n+c]^=a[c]}});return n.Decryptor=o,n}(),e.mode.CTRGladman})},uFh6:function(e,t,n){!function(o,r){e.exports=t=r(n("02Hb"))}(0,function(e){return function(){var t=e,n=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,o=this._map;e.clamp();for(var r=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)r.push(o.charAt(s>>>6*(3-a)&63));var c=o.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(e){var t=e.length,o=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<o.length;i++)r[o.charCodeAt(i)]=i}var s=o.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,o){for(var r=[],i=0,s=0;s<t;s++)if(s%4){var a=o[e.charCodeAt(s-1)]<<s%4*2,c=o[e.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=(a|c)<<24-i%4*8,i++}return n.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},v1IJ:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("1J88"))}(0,function(e){return function(t){var n=e,o=n.lib,r=o.WordArray,i=o.Hasher,s=n.x64.Word,a=n.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var o=(2*e+3*t)%5;e=t%5,t=o}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,i=0;i<24;i++){for(var a=0,p=0,d=0;d<7;d++){if(1&r){var f=(1<<d)-1;f<32?p^=1<<f:a^=1<<f-32}128&r?r=r<<1^113:r<<=1}l[i]=s.create(a,p)}}();var p=[];!function(){for(var e=0;e<25;e++)p[e]=s.create()}();var d=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,o=this.blockSize/2,r=0;r<o;r++){var i=e[t+2*r],s=e[t+2*r+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);(x=n[r]).high^=s,x.low^=i}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var f=0,h=0,m=0;m<5;m++){f^=(x=n[d+5*m]).high,h^=x.low}var _=p[d];_.high=f,_.low=h}for(d=0;d<5;d++){var g=p[(d+4)%5],y=p[(d+1)%5],v=y.high,E=y.low;for(f=g.high^(v<<1|E>>>31),h=g.low^(E<<1|v>>>31),m=0;m<5;m++){(x=n[d+5*m]).high^=f,x.low^=h}}for(var b=1;b<25;b++){var I=(x=n[b]).high,O=x.low,N=c[b];if(N<32)f=I<<N|O>>>32-N,h=O<<N|I>>>32-N;else f=O<<N-32|I>>>64-N,h=I<<N-32|O>>>64-N;var T=p[u[b]];T.high=f,T.low=h}var C=p[0],M=n[0];C.high=M.high,C.low=M.low;for(d=0;d<5;d++)for(m=0;m<5;m++){var x=n[b=d+5*m],R=p[b],S=p[(d+1)%5+5*m],w=p[(d+2)%5+5*m];x.high=R.high^~S.high&w.high,x.low=R.low^~S.low&w.low}x=n[0];var B=l[a];x.high^=B.high,x.low^=B.low}},_doFinalize:function(){var e=this._data,n=e.words,o=(this._nDataBytes,8*e.sigBytes),i=32*this.blockSize;n[o>>>5]|=1<<24-o%32,n[(t.ceil((o+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,u=[],l=0;l<c;l++){var p=s[l],d=p.high,f=p.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),u.push(f),u.push(d)}return new r.init(u,a)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=i._createHelper(d),n.HmacSHA3=i._createHmacHelper(d)}(Math),e.SHA3})},wj1U:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("Ff/Y"),n("PIk1"))}(0,function(e){return function(){var t=e,n=t.lib,o=n.Base,r=n.WordArray,i=t.algo,s=i.MD5,a=i.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,o=n.hasher.create(),i=r.create(),s=i.words,a=n.keySize,c=n.iterations;s.length<a;){u&&o.update(u);var u=o.update(e).finalize(t);o.reset();for(var l=1;l<c;l++)u=o.finalize(u),o.reset();i.concat(u)}return i.sigBytes=4*a,i}});t.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),e.EvpKDF})},x067:function(e,t,n){!function(o,r,i){e.exports=t=r(n("02Hb"),n("1J88"),n("QA75"))}(0,function(e){return function(){var t=e,n=t.x64,o=n.Word,r=n.WordArray,i=t.algo,s=i.SHA512,a=i.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384})},zPAC:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"\n.easemobtest[data-v-8e7f39a2] {\n  position: absolute;\n  background-color: #fff;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}","",{version:3,sources:["D:/vue-develop/project/kalix-vue-project/src/views/common/easemob/easemobtest.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,uBAAuB;EACvB,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,aAAa;CACd",file:"easemobtest.vue",sourcesContent:["\n.easemobtest[data-v-8e7f39a2] {\n  position: absolute;\n  background-color: #fff;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}"],sourceRoot:""}])},zecL:function(e,t,n){e.exports=n("1BlA")}});
//# sourceMappingURL=12.8c8d070eff30d11bec58.js.map