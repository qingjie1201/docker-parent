{"version":3,"sources":["webpack:///./src/views/oa/document/document.vue?5e84","webpack:///src/views/oa/comp/statusColumn.vue","webpack:///./src/views/oa/comp/statusColumn.vue?8474","webpack:///./src/views/oa/comp/statusColumn.vue","webpack:///./src/views/oa/document/document.vue?72d4","webpack:///./src/views/oa/comp/statusColumn.vue?1108","webpack:///./src/views/oa/document/index.js","webpack:///src/views/oa/document/document.vue","webpack:///./src/views/oa/document/document.vue?734a","webpack:///./src/views/oa/document/document.vue","webpack:///./src/views/oa/comp/statusColumn.vue?0496"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourceRoot","comp_statusColumn","render","_vm","this","_h","$createElement","_c","_self","attrs","prop","label","align","width","scopedSlots","_u","key","fn","scope","type","_f","row","status","_v","_s","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","content","locals","abolishCond","docStatus","DocumentToolButtonList","id","title","isShow","isPermission","cond","config","dialog","model","BaseTable","baseTable","bizNoColumn","statusColumn","docStatusColumn","dateColumn","btnId","table","_this","redheadId","then","res","custom_event","_this2","dig","bizDialog","filter","item","oa_document_document","bizKey","targetURL","bizSearch","btnList","toolbarBtnList","customTableTool","isFixedColumn","dictDefine","slot","document_document"],"mappings":"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","file":"static/js/18.a2df2342fa16ec0d8442.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"document.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-27bf7252\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/oa/document/document.vue\n// module id = EGlc\n// module chunks = 18","<!--\n描述：办公自动化-文号状态统一封装的组件 用于table的列显示\n开发人：hqj\n开发日期：2018年01月16日\n-->\n<template lang=\"pug\">\n  el-table-column(prop=\"status\" label=\"文号状态\" align=\"center\" width=\"120\")\n    template(slot-scope=\"scope\")\n      el-tag(:type=\"scope.row.status | statusFilter\") {{scope.row.status}}\n</template>\n\n<script type=\"text/ecmascript-6\">\n  export default {\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          '已撤回': 'warning',\n          '使用中': 'success',\n          '已废除': 'danger'\n        }\n        return statusMap[status]\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/oa/comp/statusColumn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"文号状态\",\"align\":\"center\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilter\")(scope.row.status)}},[_vm._v(_vm._s(scope.row.status))])]}}])})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74d98157\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/oa/comp/statusColumn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74d98157\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./statusColumn.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./statusColumn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74d98157\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./statusColumn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74d98157\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/oa/comp/statusColumn.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27bf7252\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./document.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"44b9c710\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-27bf7252\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/oa/document/document.vue\n// module id = UHFX\n// module chunks = 18","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"statusColumn.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-74d98157\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/oa/comp/statusColumn.vue\n// module id = YWH+\n// module chunks = 18 98","/**\n * 文号撤回判断条件\n * @param scope\n * @returns {boolean}\n */\nconst revokeCond = (scope) => {\n  return (scope.row.status === '使用中' && !(scope.row.docStatus === '已发文'))\n}\n\n/**\n * 文号废除判断条件\n * @param scope\n * @returns {boolean}\n */\nconst abolishCond = (scope) => {\n  return (scope.row.status === '使用中' && scope.row.docStatus === '已发文')\n}\n\n/**\n * 发文判断条件\n * @param scope\n * @returns {boolean}\n */\nconst publishCond = (scope) => {\n  return (scope.row.status === '使用中' && scope.row.docStatus === '审批通过')\n}\n\n/**\n * 文号管理操作按钮定义\n * @type {[null,null,null,null,null]}\n */\nconst DocumentToolButtonList = [\n  {\n    id: 'view',\n    title: '查看',\n    isShow: true,   // 是否显示\n    isPermission: true  // 是否进行权限认证\n  },\n  {\n    id: 'revoke',\n    title: '撤回',\n    isShow: true,   // 是否显示\n    isPermission: true,  // 是否进行权限认证\n    cond: revokeCond\n  },\n  {\n    id: 'abolish',\n    title: '废除',\n    isShow: true,   // 是否显示\n    isPermission: true,  // 是否进行权限认证\n    cond: abolishCond\n  },\n  {\n    id: 'publish',\n    title: '发文',\n    isShow: true,   // 是否显示\n    isPermission: true,  // 是否进行权限认证\n    cond: publishCond\n  },\n  {\n    id: 'preview',\n    title: '预览',\n    isShow: true,   // 是否显示\n    isPermission: true  // 是否进行权限认证\n    // cond: publishCond\n  },\n  {\n    id: 'download',\n    title: '下载',\n    isShow: true,   // 是否显示\n    isPermission: true,  // 是否进行权限认证\n    cond: abolishCond\n  }\n]\n\nexport {DocumentToolButtonList}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/oa/document/index.js","<!--\n描述：办公自动化-系统管理-文号管理\n开发人：hqj-修改\n开发日期：2018年01月10日\n-->\n\n<template lang=\"pug\">\n  keep-alive\n    base-table(bizKey=\"document\" title='文号列表' v-bind:targetURL=\"targetURL\"\n    v-bind:bizDialog=\"bizDialog\" bizSearch=\"OaDocumentSearch\" v-bind:btnList=\"btnList\"\n    v-bind:toolbarBtnList=\"toolbarBtnList\" v-bind:customTableTool=\"customTableTool\"\n    v-bind:isFixedColumn=\"isFixedColumn\" v-bind:dictDefine=\"dictDefine\")\n      template(slot=\"tableColumnSlot\")\n        kalix-biz-no-column(title=\"文号\")  // 业务编号\n        el-table-column(prop=\"docTypeName\" label=\"文号类型\" align=\"center\" width=\"120\")\n        el-table-column(prop=\"year\" label=\"年份\" align=\"center\" width=\"100\")\n        kalix-status-column  // 文号状态\n        el-table-column(prop=\"title\" label=\"文题\" align=\"center\" width=\"300\")\n        kalix-doc-status-column  // 文件状态\n        el-table-column(prop=\"docDate\" label=\"发文时间\" align=\"center\" width=\"220\")\n        el-table-column(prop=\"docDept\" label=\"发文部门\" align=\"center\" width=\"220\")\n        kalix-date-column(prop=\"creationDate\" label=\"创建时间\")\n        kalix-date-column(prop=\"updateDate\" label=\"更新时间\")\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import BaseTable from '@/components/custom/baseTable'\n  import {\n    DocumentURL,\n    DocumentComponent,\n    RedheadApplyURL,\n    DocumentRevokeURL,\n    DocumentAbolishURL,\n    RedheadApplyComponent\n  } from '../config.toml'\n  import {DocumentToolButtonList} from '../document/index'\n  import {registerComponent} from '@/api/register'\n  import BizNoColumn from '@/views/oa/comp/bizNoColumn'\n  import StatusColumn from '@/views/oa/comp/statusColumn.vue'\n  import DocStatusColumn from '@/views/oa/comp/docStatusColumn.vue'\n  import DateColumn from 'views/oa/comp/dateColumn'\n  import Message from 'common/message'\n  import {ON_REFRESH_DATA} from '@/components/custom/event.toml'\n  import EventBus from 'common/eventbus'\n  import {baseURL} from 'config/global.toml'\n  import redheadapplyFormModel from '../redheadapply/model'\n  //  import {DictKeyValueObject} from 'common/keyValueObject'\n\n  // 注册全局组件\n  registerComponent(DocumentComponent)\n  registerComponent(RedheadApplyComponent)\n\n  export default {\n    data() {\n      return {\n        dictDefine: [{ // 定义数据字典的显示\n          cacheKey: 'OA-DICT-KEY',\n          type: '文号类型',\n          targetField: 'docTypeName',\n          sourceField: 'docType'\n        }],\n        isFixedColumn: true,\n        btnList: DocumentToolButtonList,\n        toolbarBtnList: [\n          {id: 'add', isShow: false}\n        ],\n        targetURL: DocumentURL,\n//        tableFields: [\n//          {prop: 'docTypeName', label: '文号类型', width: '120'},\n//          {prop: 'year', label: '年份', width: '100'},\n//          {prop: 'businessNo', label: '文号', width: '200'},\n//          {prop: 'status', label: '文号状态', width: '100'},\n//          {prop: 'docDate', label: '发文时间', width: '160'},\n//          {prop: 'docDept', label: '发文部门', width: '200'},\n//          {prop: 'title', label: '文题', width: '280'},\n//          {prop: 'creationDate', label: '创建时间', width: '160'},\n//          {prop: 'updateDate', label: '更新时间', width: '160'}\n//        ],\n        bizDialog: [\n          {id: 'view', dialog: 'OaDocumentView'},\n          {id: 'publish', dialog: 'OaDocumentPublish'}\n//          {id: 'preview', dialog: 'OaRedheadPreview'}\n        ],\n        redheadApplyURL: RedheadApplyURL,\n        documentRevokeURL: DocumentRevokeURL,\n        documentAbolishURL: DocumentAbolishURL,\n        redheadapplyFormModel: Object.assign({}, redheadapplyFormModel)\n      }\n    },\n    components: {\n      BaseTable,\n      KalixBizNoColumn: BizNoColumn,\n      KalixStatusColumn: StatusColumn,\n      KalixDocStatusColumn: DocStatusColumn,\n      KalixDateColumn: DateColumn\n    },\n    created() {\n    },\n    methods: {\n      customTableTool(row, btnId, table) {\n        switch (btnId) {\n          // 撤回文号\n          case 'revoke': {\n            this.onRevoke(row, table)\n            break\n          }\n          // 废除文号\n          case 'abolish': {\n            this.onAbolish(row, table)\n            break\n          }\n          // 发文\n          case 'publish': {\n            this.onPublish(row, table)\n            break\n          }\n          // 预览\n          case 'preview': {\n            this.onPreview(row, table)\n            break\n          }\n          // 下载转成word\n          case 'download': {\n            this.onDownload(row, table)\n            break\n          }\n        }\n      },\n      // 撤回文号\n      onRevoke(row, table) {\n        this.axios.request({\n          method: 'GET',\n          url: this.redheadApplyURL + '/' + row.redheadId,\n          params: {}\n        }).then((res) => {\n          let docStatus = res.data.docStatus\n          let warnInfo = '使用该文号的文件状态为[' + docStatus + '],确定要撤回该文号吗?'\n          table.$confirm(warnInfo, '警告', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            this.axios.request({\n              method: 'GET',\n              url: this.documentRevokeURL + row.id,\n              params: {}\n            }).then((res) => {\n              Message.processResult(res)\n              EventBus.$emit(ON_REFRESH_DATA)\n            })\n          })\n        })\n      },\n      // 废除文号\n      onAbolish(row, table) {\n        this.axios.request({\n          method: 'GET',\n          url: this.redheadApplyURL + '/' + row.redheadId,\n          params: {}\n        }).then((res) => {\n          let docStatus = res.data.docStatus\n          let warnInfo = '使用该文号的文件状态为[' + docStatus + '],确定要废除该文号吗?'\n          table.$confirm(warnInfo, '警告', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            this.axios.request({\n              method: 'GET',\n              url: this.documentAbolishURL + row.id,\n              params: {}\n            }).then((res) => {\n              Message.processResult(res)\n              EventBus.$emit(ON_REFRESH_DATA)\n            })\n          })\n        })\n      },\n      // 发文\n      onPublish(row, table) {\n        let dig =\n          table.bizDialog.filter((item) => {\n            return item.id === 'publish'\n          })\n        table.whichBizDialog = dig[0].dialog\n        setTimeout(() => {\n          row.other = '学校领导、学校各单位、部门'\n          table.$refs.kalixDialog.$refs.kalixBizDialog.open('发文', true, row)\n        }, 20)\n      },\n      // 预览\n      onPreview(row, table) {\n//        if (row.redheadId && (row.status === '使用中') && (row.docStatus === '审批通过'))\n        if (row.redheadId) {\n//          let url = RedheadApplyURL + '/' + row.redheadId\n//          this.axios.request({\n//            method: 'GET',\n//            url: url,\n//            params: {}\n//          }).then(res => {\n//            if (res.data.success === undefined) {\n//              if (res.data) {\n//                this.redheadapplyFormModel = res.data\n//                // 处理红头文件标题\n//                let _keyObj = DictKeyValueObject('OA-DICT-KEY', '文号标题')\n//                this.redheadapplyFormModel.docCaption = _keyObj[this.redheadapplyFormModel.docType]\n//                let dig =\n//                  table.bizDialog.filter((item) => {\n//                    return item.id === 'preview'\n//                  })\n//                table.whichBizDialog = dig[0].dialog\n//                setTimeout(() => {\n//                  table.$refs.kalixDialog.open(this.redheadapplyFormModel)\n//                }, 20)\n//              }\n//            }\n//          })\n          window.open(baseURL + '/camel/servlet/download?beanname=RedheadApply&id=' + row.redheadId + '&filetype=html')\n        } else {\n          Message.warning('文号未关联红头文件,无法进行预览!')\n        }\n      },\n      // 下载转成word\n      onDownload(row, table) {\n        window.open(baseURL + '/camel/servlet/download?beanname=RedheadApply&id=' + row.redheadId + '&filetype=word')\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/oa/document/document.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('keep-alive',[_c('base-table',{attrs:{\"bizKey\":\"document\",\"title\":\"文号列表\",\"targetURL\":_vm.targetURL,\"bizDialog\":_vm.bizDialog,\"bizSearch\":\"OaDocumentSearch\",\"btnList\":_vm.btnList,\"toolbarBtnList\":_vm.toolbarBtnList,\"customTableTool\":_vm.customTableTool,\"isFixedColumn\":_vm.isFixedColumn,\"dictDefine\":_vm.dictDefine}},[_c('template',{slot:\"tableColumnSlot\"},[_c('kalix-biz-no-column',{attrs:{\"title\":\"文号\"}},[_vm._v(\" // 业务编号\")]),_c('el-table-column',{attrs:{\"prop\":\"docTypeName\",\"label\":\"文号类型\",\"align\":\"center\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"year\",\"label\":\"年份\",\"align\":\"center\",\"width\":\"100\"}}),_c('kalix-status-column',[_vm._v(\" // 文号状态\")]),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"文题\",\"align\":\"center\",\"width\":\"300\"}}),_c('kalix-doc-status-column',[_vm._v(\" // 文件状态\")]),_c('el-table-column',{attrs:{\"prop\":\"docDate\",\"label\":\"发文时间\",\"align\":\"center\",\"width\":\"220\"}}),_c('el-table-column',{attrs:{\"prop\":\"docDept\",\"label\":\"发文部门\",\"align\":\"center\",\"width\":\"220\"}}),_c('kalix-date-column',{attrs:{\"prop\":\"creationDate\",\"label\":\"创建时间\"}}),_c('kalix-date-column',{attrs:{\"prop\":\"updateDate\",\"label\":\"更新时间\"}})],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27bf7252\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/oa/document/document.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27bf7252\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./document.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./document.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27bf7252\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./document.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-27bf7252\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/oa/document/document.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74d98157\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./statusColumn.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"46fea0a2\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-74d98157\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/oa/comp/statusColumn.vue\n// module id = xdWZ\n// module chunks = 18 98"],"sourceRoot":""}